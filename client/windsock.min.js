!function(){"undefined"==typeof module&&(_exports=Object.create(null),module={set exports(e){if("[object Function]"==Object.prototype.toString.call(e)){var t=e._ns||e.toString().match(/function ([^\(]*)/)[1].toLowerCase();_exports[t]=e}else{if(!e._ns)throw new Error("Export namespace missing");_exports[e._ns]=_exports[e._ns]||{};for(var n in e)_exports[e._ns][n]=e[n]}},get exports(){return _exports}}),"undefined"==typeof require&&(require=function(e){return module.exports[e.match(/[^\/]+$/).join()]});var e={client:"undefined"!=typeof document,debug:!0};Object.defineProperty(e,"_ns",{value:"config",enumerable:!1}),module.exports=e}(),function(){"use strict";var e=require("./config"),t=(this.window,this.requestAnimationFrame||this.setTimeout),n="undefined"!=typeof process&&process.nextTick?process.nextTick:t,r={log:function(t){e.debug&&console&&console.log(t)},nextTick:function(e){n(e,0)},each:function(e,t,n){n=n||this;var r=Array.prototype.slice.call(arguments,3),i=Object.create(null);if(e.length){for(var a=0,o=e.length;o>a;a++)if(t.apply(n,[e[a],a,e,i].concat(r))==i)return}else for(var s in e)if(t.apply(n,[s,e[s],e,i].concat(r))==i)return},traverse:function(e,t,n){n=n||this;var i=Array.prototype.slice.call(arguments,3);r.each(e,function(){for(var e=t.apply(this,Array.prototype.slice.call(arguments)),a=0;2>a;)arguments[a]instanceof Object&&!arguments[a].call&&r.traverse(arguments[a],t,n,i),a++;return e},n,i)},set:function(e,t,n){return Object.defineProperty(e,t,n)},hide:function(e,t,n){return n=n||Object.create(null),r.each(t,function(t,i){r.set(e,t,r.extend({value:i,enumerable:!1},n))}),e},merge:function(e){return r.each(Array.prototype.slice.call(arguments,1),function(t){for(var n in t)e.hasOwnProperty(n)&&(e[n]=t[n])}),e},inherit:function(e,t,n){return e.prototype&&t.prototype&&(e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e),e},extend:function(e){return r.each(Array.prototype.slice.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},is:function(e,t){return Object.prototype.toString.call(e)==="[object "+r.upperCase(t)+"]"},upperCase:function(e){return e.replace(/[a-z]/,function(e){return e.toUpperCase()})},isClient:function(){return e.client},isEmpty:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}};Object.defineProperty(r,"_ns",{value:"util",enumerable:!1}),module.exports=r}.call(this),function(){"use strict";function e(){this._callbacks=[]}function t(){}function n(t){var n=this;return n._callbacks=[],n._index=0,n._config=s({async:!0,flowing:!1},t),a(function(){if(!n._callbacks.length)return{then:function(e){c(e)}};var t=new e(n._config.async),r=Array.prototype.slice.call(arguments),i=function(){n._index++,n._index===n._callbacks.length?(o(t._callbacks,function(e){e.call(n)},n),o(n._callbacks,function(e){e._flush.apply(e,r)}),n._index=0):n._config.async?c(a):a()},a=function(){var e=n._callbacks[n._index];return e._signal.apply(e,r),n._config.flowing&&i(),e};return n._config.flowing||r.push(i),n._config.async?(c(a),t):a()},n)}var r=require("./util"),i=r.is,a=r.extend,o=r.each,s=r.merge,c=r.nextTick;module.exports=n,n.Promise=e,n.Signal=t,e.prototype.then=function(e){return i(e,"function")&&this._callbacks.push(e),this},t.prototype._signal=function(){},t.prototype._flush=function(){},n.prototype.add=function(e){if(!(e instanceof t||e._signal))throw new Error("add() requires an instance of Signal");return this._callbacks.push(e),this},n.prototype.remove=function(e){if(e){if(!(e instanceof t||e._signal))throw new Error("remove() requires an instance of Signal");o(this._callbacks,function(t,n,r,i){return t===e?(r.splice(n,1),i):void 0})}else this._callbacks=[];return this}}(),function(){"use strict";function e(){var e=this;r(["characters","start","end","done"],function(n){e.parseHTML[n]=new t({async:!0,flowing:!0})})}var t=require("./signals"),n=require("./util"),r=n.each,i=n.is;module.exports=e,e.prototype.parseDOM=function(e){if("SCRIPT"!==e.nodeName){var t={};if(r(e.attributes,function(e){t[e.nodeName]=e.nodeValue}),e.hasChildNodes())for(var n=e.childNodes,i=0;i<n.length;i++)1==n[i].nodeType||3==n[i].nodeType;return this.parseHTML.done()}},e.prototype.parse=function(e){return i(e,"string")?this.parseHTML(e):e.nodeName?this.parseDOM(e):this.parseJSONML(e)},e.prototype.parseHTML=function(e){if(e){for(e=e.toString().replace(/\n/g,"").replace(/\r/g,"");e;){var t=e.indexOf("<");if(t>=0){this.parseHTML.characters(e.substring(0,t)),e=e.substring(t);var n=e.indexOf(">")+1,r=e.substring(0,n),i="/"===e[r.length-2];"!"===r[1]?n=e.indexOf("-->")+1:"/"===r[1]||i?this.parseHTML.end(r,i):this.parseHTML.start(r),e=e.substring(n)}else this.parseHTML.characters(e),e=null}return this.parseHTML.done()}}}(),function(){"use strict";function e(t){if(t._signals)return t;var o={async:!1,flowing:!0},s={set:new n.Signal,get:new n.Signal};return i(t,"update",{value:new n(o),enumerable:!1}),s.set._signal=function(t,n,i,a){return console.log("default set signal called"),this.value||(this.value=a),r(t,"array")||r(t,"Object")?void(this.value=e(t)):void(this.value=t)},s.get._signal=function(){console.log("default get signal called")},s.set._flush=function(){t.update.apply(this,arguments)},a(t,function(){var e=arguments[2],t=arguments[0],a=arguments[1];r(e,"array")&&(t=arguments[1],a=arguments[0]),e._signals||i(e,"_signals",{value:Object.create(null),enumerable:!1,writable:!0}),e._signals[t]=Object.create(null);var c=new n(o);c.add(s.get),i(e._signals[t],"get",{value:c,enumerable:!1});var u=new n(o);u.add(s.set),i(e._signals[t],"set",{value:u,enumerable:!1}),i(e,t,{set:function(n){a=e._signals[t].set(n,t,e,a).value},get:function(){return e._signals[t].get(a,t,e),a}})}),t}{var t=require("./util"),n=require("./signals"),r=t.is,i=t.set,a=t.traverse;t.each}module.exports=e}(),function(){"use strict"}(),function(){"use strict";function e(e){e=e||Object.create(null);var t=this,r=e.data||t.data||Object.create(null);t.data=n(r);e.markup||""}var t=require("./util"),n=require("./data"),r=(require("./markup"),t.inherit),i=t.extend;module.exports=this.windsock=e,e.prototype.bindings=[{data:"",markup:"*"}],e.prototype.selectors={data:function(e,n){return t.is(e,"string")&&n[e]?n[e]:void 0},markup:function(){}},e.extend=function(t){var n=function(){e.call(this)};return r(n,e),i(n.prototype,t),n}}.call(this);