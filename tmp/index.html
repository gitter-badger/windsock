<!DOCTYPE html>
<html>
<head>
    <title>windsock development</title>
</head>
<body>
    <div id="demo">
        <h1>{{title | uppercase}}</h1>
        <ul>
            <li v-repeat="todos" v-on="click: done = !done" class="done">
                {{content}}
            </li>
        </ul>
    </div>
<script src="../client/windsock.js"></script>
<script>

    var toDoList = {
        title: 'todos',
        todos: [
            {
                done: true,
                content: 'Learn JavaScript'
            },
            {
                done: false,
                content: 'Learn windsock.js'
            }
        ]
    };

    var demo = document.getElementById('demo');

    var bindings = [{
        markup: 'h1',
        data: 'title',
        filter: uppercase
    },{
        markup:'li',
        data:'todos',
        filter:undefined,
        bind:function(elm, data){
            elm.class = 'done' + data.done;
            elm.text = data.content;
        }
    }];

    var ws = new windsock({
        data: toDoList,
        markup: demo, //jsonml with node refs, so root will have ref to demo
        binding: bindings
    });


    console.log('end of script');

</script>
</body>
</html>
