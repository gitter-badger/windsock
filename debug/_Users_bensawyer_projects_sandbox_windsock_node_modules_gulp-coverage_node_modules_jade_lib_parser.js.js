
// Instrumentation Header
{
    var fs = require('fs');
    var __statement_xFXwa4, __expression_z3t1oK, __block_uz2z5R;
    var store = require('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/contrib/coverage_store.js');
    
    __statement_xFXwa4 = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/lib/parser.js');
        fs.writeSync(fd, '{"statement": {"node": ' + i + '}},\n');
    }; 
    
    __expression_z3t1oK = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/lib/parser.js');
        fs.writeSync(fd, '{"expression": {"node": ' + i + '}},\n');
    }; 
    
    __block_uz2z5R = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/lib/parser.js');
        fs.writeSync(fd, '{"block": ' + i + '},\n');
    }; 
    __intro_JYo7Rn = function(id, obj) {
        // console.log('__intro: ', id, ', obj.__instrumented_miss: ', obj.__instrumented_miss, ', obj.length: ', obj.length);
        (typeof obj === 'object' || typeof obj === 'function') &&
            Object.defineProperty && Object.defineProperty(obj, '__instrumented_miss', {enumerable: false, writable: true});
        obj.__instrumented_miss = obj.__instrumented_miss || [];
        if ('undefined' !== typeof obj && null !== obj && 'undefined' !== typeof obj.__instrumented_miss) {
            if (obj.length === 0) {
                // console.log('interim miss: ', id);
                obj.__instrumented_miss[id] = true;
            } else {
                obj.__instrumented_miss[id] = false;
            }
        }
        return obj;
    };
    function isProbablyChainable(obj, id) {
        return obj &&
            obj.__instrumented_miss[id] !== undefined &&
            'number' === typeof obj.length;
    }
    __extro_qtq7J3 = function(id, obj) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/lib/parser.js');
        // console.log('__extro: ', id, ', obj.__instrumented_miss: ', obj.__instrumented_miss, ', obj.length: ', obj.length);
        if ('undefined' !== typeof obj && null !== obj && 'undefined' !== typeof obj.__instrumented_miss) {
            if (isProbablyChainable(obj, id) && obj.length === 0 && obj.__instrumented_miss[id]) {
                // if the call was not a "constructor" - i.e. it did not add things to the chainable
                // and it did not return anything from the chainable, it is a miss
                // console.log('miss: ', id);
            } else {
                fs.writeSync(fd, '{"chain": {"node": ' + id + '}},\n');
            }
            obj.__instrumented_miss[id] = undefined;
        } else {
            fs.writeSync(fd, '{"chain": {"node": ' + id + '}},\n');
        }
        return obj;
    };
};
////////////////////////

// Instrumented Code
{
    __statement_xFXwa4(0);
    'use strict';
}
{
    __statement_xFXwa4(1);
    var Lexer = (__expression_z3t1oK(2), require('./lexer'));
}
{
    __statement_xFXwa4(3);
    var nodes = (__expression_z3t1oK(4), require('./nodes'));
}
{
    __statement_xFXwa4(5);
    var utils = (__expression_z3t1oK(6), require('./utils'));
}
{
    __statement_xFXwa4(7);
    var filters = (__expression_z3t1oK(8), require('./filters'));
}
{
    __statement_xFXwa4(9);
    var path = (__expression_z3t1oK(10), require('path'));
}
{
    __statement_xFXwa4(11);
    var constantinople = (__expression_z3t1oK(12), require('constantinople'));
}
{
    __statement_xFXwa4(13);
    var parseJSExpression = (__expression_z3t1oK(14), require('character-parser')).parseMax;
}
{
    __statement_xFXwa4(15);
    var extname = path.extname;
}
{
    __statement_xFXwa4(16);
    var Parser = exports = module.exports = function Parser(str, filename, options) {
            __block_uz2z5R(0);
            {
                __statement_xFXwa4(17);
                this.input = __extro_qtq7J3(18, __intro_JYo7Rn(18, str).replace(/^\uFEFF/, ''));
            }
            {
                __statement_xFXwa4(19);
                this.lexer = new Lexer(this.input, filename);
            }
            {
                __statement_xFXwa4(20);
                this.filename = filename;
            }
            {
                __statement_xFXwa4(21);
                this.blocks = {};
            }
            {
                __statement_xFXwa4(22);
                this.mixins = {};
            }
            {
                __statement_xFXwa4(23);
                this.options = options;
            }
            {
                __statement_xFXwa4(24);
                this.contexts = [
                    this
                ];
            }
            {
                __statement_xFXwa4(25);
                this.inMixin = false;
            }
        };
}
{
    __statement_xFXwa4(26);
    Parser.prototype = {
        constructor: Parser,
        context: function (parser) {
            __block_uz2z5R(1);
            if (__expression_z3t1oK(27), parser) {
                __block_uz2z5R(2);
                {
                    __statement_xFXwa4(28);
                    __extro_qtq7J3(29, __intro_JYo7Rn(29, this.contexts).push(parser));
                }
            } else {
                __block_uz2z5R(3);
                return __expression_z3t1oK(30), __extro_qtq7J3(31, __intro_JYo7Rn(31, this.contexts).pop());
            }
        },
        advance: function () {
            __block_uz2z5R(4);
            return __expression_z3t1oK(32), __extro_qtq7J3(33, __intro_JYo7Rn(33, this.lexer).advance());
        },
        skip: function (n) {
            __block_uz2z5R(5);
            while (__expression_z3t1oK(34), n--) {
                __block_uz2z5R(6);
                {
                    __statement_xFXwa4(35);
                    __extro_qtq7J3(36, __intro_JYo7Rn(36, this).advance());
                }
            }
        },
        peek: function () {
            __block_uz2z5R(7);
            return __expression_z3t1oK(37), __extro_qtq7J3(38, __intro_JYo7Rn(38, this).lookahead(1));
        },
        line: function () {
            __block_uz2z5R(8);
            return __expression_z3t1oK(39), this.lexer.lineno;
        },
        lookahead: function (n) {
            __block_uz2z5R(9);
            return __expression_z3t1oK(40), __extro_qtq7J3(41, __intro_JYo7Rn(41, this.lexer).lookahead(n));
        },
        parse: function () {
            __block_uz2z5R(10);
            {
                __statement_xFXwa4(42);
                var block = new nodes.Block(), parser;
            }
            {
                __statement_xFXwa4(43);
                block.line = 0;
            }
            {
                __statement_xFXwa4(44);
                block.filename = this.filename;
            }
            while (__expression_z3t1oK(45), 'eos' != __extro_qtq7J3(46, __intro_JYo7Rn(46, this).peek()).type) {
                __block_uz2z5R(11);
                if (__expression_z3t1oK(47), 'newline' == __extro_qtq7J3(48, __intro_JYo7Rn(48, this).peek()).type) {
                    __block_uz2z5R(12);
                    {
                        __statement_xFXwa4(49);
                        __extro_qtq7J3(50, __intro_JYo7Rn(50, this).advance());
                    }
                } else {
                    __block_uz2z5R(13);
                    {
                        __statement_xFXwa4(51);
                        var next = __extro_qtq7J3(52, __intro_JYo7Rn(52, this).peek());
                    }
                    {
                        __statement_xFXwa4(53);
                        var expr = __extro_qtq7J3(54, __intro_JYo7Rn(54, this).parseExpr());
                    }
                    {
                        __statement_xFXwa4(55);
                        expr.filename = (__expression_z3t1oK(56), expr.filename || this.filename);
                    }
                    {
                        __statement_xFXwa4(57);
                        expr.line = next.line;
                    }
                    {
                        __statement_xFXwa4(58);
                        __extro_qtq7J3(59, __intro_JYo7Rn(59, block).push(expr));
                    }
                }
            }
            if (parser = this.extending) {
                __block_uz2z5R(14);
                {
                    __statement_xFXwa4(60);
                    __extro_qtq7J3(61, __intro_JYo7Rn(61, this).context(parser));
                }
                {
                    __statement_xFXwa4(62);
                    var ast = __extro_qtq7J3(63, __intro_JYo7Rn(63, parser).parse());
                }
                {
                    __statement_xFXwa4(64);
                    __extro_qtq7J3(65, __intro_JYo7Rn(65, this).context());
                }
                for (var name in this.mixins) {
                    __block_uz2z5R(15);
                    {
                        __statement_xFXwa4(66);
                        __extro_qtq7J3(67, __intro_JYo7Rn(67, ast).unshift(this.mixins[name]));
                    }
                }
                return __expression_z3t1oK(68), ast;
            }
            return __expression_z3t1oK(69), block;
        },
        expect: function (type) {
            __block_uz2z5R(16);
            if (__expression_z3t1oK(70), __extro_qtq7J3(71, __intro_JYo7Rn(71, this).peek()).type === (__expression_z3t1oK(72), type)) {
                __block_uz2z5R(17);
                return __expression_z3t1oK(73), __extro_qtq7J3(74, __intro_JYo7Rn(74, this).advance());
            } else {
                __block_uz2z5R(18);
                {
                    __statement_xFXwa4(75);
                    throw new Error((__expression_z3t1oK(76), (__expression_z3t1oK(77), (__expression_z3t1oK(78), (__expression_z3t1oK(79), 'expected "' + (__expression_z3t1oK(80), type)) + '", but got "') + __extro_qtq7J3(81, __intro_JYo7Rn(81, this).peek()).type) + '"'));
                }
            }
        },
        accept: function (type) {
            __block_uz2z5R(19);
            if (__expression_z3t1oK(82), __extro_qtq7J3(83, __intro_JYo7Rn(83, this).peek()).type === (__expression_z3t1oK(84), type)) {
                __block_uz2z5R(20);
                return __expression_z3t1oK(85), __extro_qtq7J3(86, __intro_JYo7Rn(86, this).advance());
            }
        },
        parseExpr: function () {
            __block_uz2z5R(21);
            switch (__extro_qtq7J3(87, __intro_JYo7Rn(87, this).peek()).type) {
            case 'tag': {
                    __block_uz2z5R(22);
                    return __expression_z3t1oK(88), __extro_qtq7J3(89, __intro_JYo7Rn(89, this).parseTag());
                }
            case 'mixin': {
                    __block_uz2z5R(23);
                    return __expression_z3t1oK(90), __extro_qtq7J3(91, __intro_JYo7Rn(91, this).parseMixin());
                }
            case 'block': {
                    __block_uz2z5R(24);
                    return __expression_z3t1oK(92), __extro_qtq7J3(93, __intro_JYo7Rn(93, this).parseBlock());
                }
            case 'mixin-block': {
                    __block_uz2z5R(25);
                    return __expression_z3t1oK(94), __extro_qtq7J3(95, __intro_JYo7Rn(95, this).parseMixinBlock());
                }
            case 'case': {
                    __block_uz2z5R(26);
                    return __expression_z3t1oK(96), __extro_qtq7J3(97, __intro_JYo7Rn(97, this).parseCase());
                }
            case 'when': {
                    __block_uz2z5R(27);
                    return __expression_z3t1oK(98), __extro_qtq7J3(99, __intro_JYo7Rn(99, this).parseWhen());
                }
            case 'default': {
                    __block_uz2z5R(28);
                    return __expression_z3t1oK(100), __extro_qtq7J3(101, __intro_JYo7Rn(101, this).parseDefault());
                }
            case 'extends': {
                    __block_uz2z5R(29);
                    return __expression_z3t1oK(102), __extro_qtq7J3(103, __intro_JYo7Rn(103, this).parseExtends());
                }
            case 'include': {
                    __block_uz2z5R(30);
                    return __expression_z3t1oK(104), __extro_qtq7J3(105, __intro_JYo7Rn(105, this).parseInclude());
                }
            case 'doctype': {
                    __block_uz2z5R(31);
                    return __expression_z3t1oK(106), __extro_qtq7J3(107, __intro_JYo7Rn(107, this).parseDoctype());
                }
            case 'filter': {
                    __block_uz2z5R(32);
                    return __expression_z3t1oK(108), __extro_qtq7J3(109, __intro_JYo7Rn(109, this).parseFilter());
                }
            case 'comment': {
                    __block_uz2z5R(33);
                    return __expression_z3t1oK(110), __extro_qtq7J3(111, __intro_JYo7Rn(111, this).parseComment());
                }
            case 'text': {
                    __block_uz2z5R(34);
                    return __expression_z3t1oK(112), __extro_qtq7J3(113, __intro_JYo7Rn(113, this).parseText());
                }
            case 'each': {
                    __block_uz2z5R(35);
                    return __expression_z3t1oK(114), __extro_qtq7J3(115, __intro_JYo7Rn(115, this).parseEach());
                }
            case 'code': {
                    __block_uz2z5R(36);
                    return __expression_z3t1oK(116), __extro_qtq7J3(117, __intro_JYo7Rn(117, this).parseCode());
                }
            case 'call': {
                    __block_uz2z5R(37);
                    return __expression_z3t1oK(118), __extro_qtq7J3(119, __intro_JYo7Rn(119, this).parseCall());
                }
            case 'interpolation': {
                    __block_uz2z5R(38);
                    return __expression_z3t1oK(120), __extro_qtq7J3(121, __intro_JYo7Rn(121, this).parseInterpolation());
                }
            case 'yield': {
                    __block_uz2z5R(39);
                    {
                        __statement_xFXwa4(122);
                        __extro_qtq7J3(123, __intro_JYo7Rn(123, this).advance());
                    }
                    {
                        __statement_xFXwa4(124);
                        var block = new nodes.Block();
                    }
                    {
                        __statement_xFXwa4(125);
                        block.yield = true;
                    }
                    return __expression_z3t1oK(126), block;
                }
            case 'id':
            case 'class': {
                    __block_uz2z5R(40);
                    {
                        __statement_xFXwa4(127);
                        var tok = __extro_qtq7J3(128, __intro_JYo7Rn(128, this).advance());
                    }
                    {
                        __statement_xFXwa4(129);
                        __extro_qtq7J3(130, __intro_JYo7Rn(130, this.lexer).defer(__extro_qtq7J3(131, __intro_JYo7Rn(131, this.lexer).tok('tag', 'div'))));
                    }
                    {
                        __statement_xFXwa4(132);
                        __extro_qtq7J3(133, __intro_JYo7Rn(133, this.lexer).defer(tok));
                    }
                    return __expression_z3t1oK(134), __extro_qtq7J3(135, __intro_JYo7Rn(135, this).parseExpr());
                }
            default: {
                    __block_uz2z5R(41);
                    {
                        __statement_xFXwa4(136);
                        throw new Error((__expression_z3t1oK(137), (__expression_z3t1oK(138), 'unexpected token "' + __extro_qtq7J3(139, __intro_JYo7Rn(139, this).peek()).type) + '"'));
                    }
                }
            }
        },
        parseText: function () {
            __block_uz2z5R(42);
            {
                __statement_xFXwa4(140);
                var tok = __extro_qtq7J3(141, __intro_JYo7Rn(141, this).expect('text'));
            }
            {
                __statement_xFXwa4(142);
                var tokens = __extro_qtq7J3(143, __intro_JYo7Rn(143, this).parseTextWithInlineTags(tok.val));
            }
            if (__expression_z3t1oK(144), tokens.length === 1) {
                __block_uz2z5R(43);
                return __expression_z3t1oK(145), tokens[0];
            }
            {
                __statement_xFXwa4(146);
                var node = new nodes.Block();
            }
            for (var i = 0; __expression_z3t1oK(147), (__expression_z3t1oK(148), i) < tokens.length; __expression_z3t1oK(149), i++) {
                __block_uz2z5R(44);
                {
                    __statement_xFXwa4(150);
                    __extro_qtq7J3(151, __intro_JYo7Rn(151, node).push(tokens[i]));
                }
            }
            ;
            return __expression_z3t1oK(152), node;
        },
        parseBlockExpansion: function () {
            __block_uz2z5R(45);
            if (__expression_z3t1oK(153), ':' == __extro_qtq7J3(154, __intro_JYo7Rn(154, this).peek()).type) {
                __block_uz2z5R(46);
                {
                    __statement_xFXwa4(155);
                    __extro_qtq7J3(156, __intro_JYo7Rn(156, this).advance());
                }
                return __expression_z3t1oK(157), new nodes.Block(__extro_qtq7J3(158, __intro_JYo7Rn(158, this).parseExpr()));
            } else {
                __block_uz2z5R(47);
                return __expression_z3t1oK(159), __extro_qtq7J3(160, __intro_JYo7Rn(160, this).block());
            }
        },
        parseCase: function () {
            __block_uz2z5R(48);
            {
                __statement_xFXwa4(161);
                var val = __extro_qtq7J3(162, __intro_JYo7Rn(162, this).expect('case')).val;
            }
            {
                __statement_xFXwa4(163);
                var node = new nodes.Case(val);
            }
            {
                __statement_xFXwa4(164);
                node.line = __extro_qtq7J3(165, __intro_JYo7Rn(165, this).line());
            }
            {
                __statement_xFXwa4(166);
                node.block = __extro_qtq7J3(167, __intro_JYo7Rn(167, this).block());
            }
            return __expression_z3t1oK(168), node;
        },
        parseWhen: function () {
            __block_uz2z5R(49);
            {
                __statement_xFXwa4(169);
                var val = __extro_qtq7J3(170, __intro_JYo7Rn(170, this).expect('when')).val;
            }
            return __expression_z3t1oK(171), new nodes.Case.When(val, __extro_qtq7J3(172, __intro_JYo7Rn(172, this).parseBlockExpansion()));
        },
        parseDefault: function () {
            __block_uz2z5R(50);
            {
                __statement_xFXwa4(173);
                __extro_qtq7J3(174, __intro_JYo7Rn(174, this).expect('default'));
            }
            return __expression_z3t1oK(175), new nodes.Case.When('default', __extro_qtq7J3(176, __intro_JYo7Rn(176, this).parseBlockExpansion()));
        },
        parseCode: function () {
            __block_uz2z5R(51);
            {
                __statement_xFXwa4(177);
                var tok = __extro_qtq7J3(178, __intro_JYo7Rn(178, this).expect('code'));
            }
            {
                __statement_xFXwa4(179);
                var node = new nodes.Code(tok.val, tok.buffer, tok.escape);
            }
            {
                __statement_xFXwa4(180);
                var block;
            }
            {
                __statement_xFXwa4(181);
                var i = 1;
            }
            {
                __statement_xFXwa4(182);
                node.line = __extro_qtq7J3(183, __intro_JYo7Rn(183, this).line());
            }
            while (__expression_z3t1oK(184), __extro_qtq7J3(185, __intro_JYo7Rn(185, this).lookahead(i)) && (__expression_z3t1oK(186), 'newline' == __extro_qtq7J3(187, __intro_JYo7Rn(187, this).lookahead(i)).type)) {
                __block_uz2z5R(52);
                {
                    __statement_xFXwa4(188);
                    __expression_z3t1oK(189), ++i;
                }
            }
            {
                __statement_xFXwa4(190);
                block = (__expression_z3t1oK(191), 'indent' == __extro_qtq7J3(192, __intro_JYo7Rn(192, this).lookahead(i)).type);
            }
            if (__expression_z3t1oK(193), block) {
                __block_uz2z5R(53);
                {
                    __statement_xFXwa4(194);
                    __extro_qtq7J3(195, __intro_JYo7Rn(195, this).skip((__expression_z3t1oK(196), (__expression_z3t1oK(197), i) - 1)));
                }
                {
                    __statement_xFXwa4(198);
                    node.block = __extro_qtq7J3(199, __intro_JYo7Rn(199, this).block());
                }
            }
            return __expression_z3t1oK(200), node;
        },
        parseComment: function () {
            __block_uz2z5R(54);
            {
                __statement_xFXwa4(201);
                var tok = __extro_qtq7J3(202, __intro_JYo7Rn(202, this).expect('comment'));
            }
            {
                __statement_xFXwa4(203);
                var node;
            }
            if (__expression_z3t1oK(204), 'indent' == __extro_qtq7J3(205, __intro_JYo7Rn(205, this).peek()).type) {
                __block_uz2z5R(55);
                {
                    __statement_xFXwa4(206);
                    this.lexer.pipeless = true;
                }
                {
                    __statement_xFXwa4(207);
                    node = new nodes.BlockComment(tok.val, __extro_qtq7J3(208, __intro_JYo7Rn(208, this).parseTextBlock()), tok.buffer);
                }
                {
                    __statement_xFXwa4(209);
                    this.lexer.pipeless = false;
                }
            } else {
                __block_uz2z5R(56);
                {
                    __statement_xFXwa4(210);
                    node = new nodes.Comment(tok.val, tok.buffer);
                }
            }
            {
                __statement_xFXwa4(211);
                node.line = __extro_qtq7J3(212, __intro_JYo7Rn(212, this).line());
            }
            return __expression_z3t1oK(213), node;
        },
        parseDoctype: function () {
            __block_uz2z5R(57);
            {
                __statement_xFXwa4(214);
                var tok = __extro_qtq7J3(215, __intro_JYo7Rn(215, this).expect('doctype'));
            }
            {
                __statement_xFXwa4(216);
                var node = new nodes.Doctype(tok.val);
            }
            {
                __statement_xFXwa4(217);
                node.line = __extro_qtq7J3(218, __intro_JYo7Rn(218, this).line());
            }
            return __expression_z3t1oK(219), node;
        },
        parseFilter: function () {
            __block_uz2z5R(58);
            {
                __statement_xFXwa4(220);
                var tok = __extro_qtq7J3(221, __intro_JYo7Rn(221, this).expect('filter'));
            }
            {
                __statement_xFXwa4(222);
                var attrs = __extro_qtq7J3(223, __intro_JYo7Rn(223, this).accept('attrs'));
            }
            {
                __statement_xFXwa4(224);
                var block;
            }
            if (__expression_z3t1oK(225), 'indent' == __extro_qtq7J3(226, __intro_JYo7Rn(226, this).peek()).type) {
                __block_uz2z5R(59);
                {
                    __statement_xFXwa4(227);
                    this.lexer.pipeless = true;
                }
                {
                    __statement_xFXwa4(228);
                    block = __extro_qtq7J3(229, __intro_JYo7Rn(229, this).parseTextBlock());
                }
                {
                    __statement_xFXwa4(230);
                    this.lexer.pipeless = false;
                }
            } else {
                __block_uz2z5R(60);
                {
                    __statement_xFXwa4(231);
                    block = new nodes.Block();
                }
            }
            {
                __statement_xFXwa4(232);
                var options = {};
            }
            if (__expression_z3t1oK(233), attrs) {
                __block_uz2z5R(61);
                {
                    __statement_xFXwa4(234);
                    __extro_qtq7J3(235, __intro_JYo7Rn(235, attrs.attrs).forEach(function (attribute) {
                        __block_uz2z5R(62);
                        {
                            __statement_xFXwa4(236);
                            options[attribute.name] = __extro_qtq7J3(237, __intro_JYo7Rn(237, constantinople).toConstant(attribute.val));
                        }
                    }));
                }
            }
            {
                __statement_xFXwa4(238);
                var node = new nodes.Filter(tok.val, block, options);
            }
            {
                __statement_xFXwa4(239);
                node.line = __extro_qtq7J3(240, __intro_JYo7Rn(240, this).line());
            }
            return __expression_z3t1oK(241), node;
        },
        parseEach: function () {
            __block_uz2z5R(63);
            {
                __statement_xFXwa4(242);
                var tok = __extro_qtq7J3(243, __intro_JYo7Rn(243, this).expect('each'));
            }
            {
                __statement_xFXwa4(244);
                var node = new nodes.Each(tok.code, tok.val, tok.key);
            }
            {
                __statement_xFXwa4(245);
                node.line = __extro_qtq7J3(246, __intro_JYo7Rn(246, this).line());
            }
            {
                __statement_xFXwa4(247);
                node.block = __extro_qtq7J3(248, __intro_JYo7Rn(248, this).block());
            }
            if (__expression_z3t1oK(249), (__expression_z3t1oK(250), __extro_qtq7J3(251, __intro_JYo7Rn(251, this).peek()).type == 'code') && (__expression_z3t1oK(252), __extro_qtq7J3(253, __intro_JYo7Rn(253, this).peek()).val == 'else')) {
                __block_uz2z5R(64);
                {
                    __statement_xFXwa4(254);
                    __extro_qtq7J3(255, __intro_JYo7Rn(255, this).advance());
                }
                {
                    __statement_xFXwa4(256);
                    node.alternative = __extro_qtq7J3(257, __intro_JYo7Rn(257, this).block());
                }
            }
            return __expression_z3t1oK(258), node;
        },
        resolvePath: function (path, purpose) {
            __block_uz2z5R(65);
            {
                __statement_xFXwa4(259);
                var p = (__expression_z3t1oK(260), require('path'));
            }
            {
                __statement_xFXwa4(261);
                var dirname = p.dirname;
            }
            {
                __statement_xFXwa4(262);
                var basename = p.basename;
            }
            {
                __statement_xFXwa4(263);
                var join = p.join;
            }
            if (__expression_z3t1oK(264), (__expression_z3t1oK(265), path[0] !== '/') && (__expression_z3t1oK(266), !this.filename)) {
                __block_uz2z5R(66);
                {
                    __statement_xFXwa4(267);
                    throw new Error((__expression_z3t1oK(268), (__expression_z3t1oK(269), 'the "filename" option is required to use "' + (__expression_z3t1oK(270), purpose)) + '" with "relative" paths'));
                }
            }
            if (__expression_z3t1oK(271), (__expression_z3t1oK(272), path[0] === '/') && (__expression_z3t1oK(273), !this.options.basedir)) {
                __block_uz2z5R(67);
                {
                    __statement_xFXwa4(274);
                    throw new Error((__expression_z3t1oK(275), (__expression_z3t1oK(276), 'the "basedir" option is required to use "' + (__expression_z3t1oK(277), purpose)) + '" with "absolute" paths'));
                }
            }
            {
                __statement_xFXwa4(278);
                path = (__expression_z3t1oK(279), join((__expression_z3t1oK(282), path[0] === '/') ? (__expression_z3t1oK(280), this.options.basedir) : (__expression_z3t1oK(281), (__expression_z3t1oK(283), dirname(this.filename))), path));
            }
            if (__expression_z3t1oK(284), __extro_qtq7J3(285, __intro_JYo7Rn(285, (__expression_z3t1oK(286), basename(path))).indexOf('.')) === (__expression_z3t1oK(287), -1)) {
                __block_uz2z5R(68);
                {
                    __statement_xFXwa4(288);
                    path += '.jade';
                }
            }
            return __expression_z3t1oK(289), path;
        },
        parseExtends: function () {
            __block_uz2z5R(69);
            {
                __statement_xFXwa4(290);
                var fs = (__expression_z3t1oK(291), require('fs'));
            }
            {
                __statement_xFXwa4(292);
                var path = __extro_qtq7J3(293, __intro_JYo7Rn(293, this).resolvePath(__extro_qtq7J3(294, __intro_JYo7Rn(294, __extro_qtq7J3(295, __intro_JYo7Rn(295, this).expect('extends')).val).trim()), 'extends'));
            }
            if (__expression_z3t1oK(296), '.jade' != __extro_qtq7J3(297, __intro_JYo7Rn(297, path).substr((__expression_z3t1oK(298), -5)))) {
                __block_uz2z5R(70);
                {
                    __statement_xFXwa4(299);
                    path += '.jade';
                }
            }
            {
                __statement_xFXwa4(300);
                var str = __extro_qtq7J3(301, __intro_JYo7Rn(301, fs).readFileSync(path, 'utf8'));
            }
            {
                __statement_xFXwa4(302);
                var parser = new this.constructor(str, path, this.options);
            }
            {
                __statement_xFXwa4(303);
                parser.blocks = this.blocks;
            }
            {
                __statement_xFXwa4(304);
                parser.contexts = this.contexts;
            }
            {
                __statement_xFXwa4(305);
                this.extending = parser;
            }
            return __expression_z3t1oK(306), new nodes.Literal('');
        },
        parseBlock: function () {
            __block_uz2z5R(71);
            {
                __statement_xFXwa4(307);
                var block = __extro_qtq7J3(308, __intro_JYo7Rn(308, this).expect('block'));
            }
            {
                __statement_xFXwa4(309);
                var mode = block.mode;
            }
            {
                __statement_xFXwa4(310);
                var name = __extro_qtq7J3(311, __intro_JYo7Rn(311, block.val).trim());
            }
            {
                __statement_xFXwa4(312);
                block = (__expression_z3t1oK(315), 'indent' == __extro_qtq7J3(316, __intro_JYo7Rn(316, this).peek()).type) ? (__expression_z3t1oK(313), __extro_qtq7J3(317, __intro_JYo7Rn(317, this).block())) : (__expression_z3t1oK(314), new nodes.Block(new nodes.Literal('')));
            }
            {
                __statement_xFXwa4(318);
                var prev = (__expression_z3t1oK(319), this.blocks[name] || {
                        prepended: [],
                        appended: []
                    });
            }
            if (__expression_z3t1oK(320), prev.mode === 'replace') {
                __block_uz2z5R(72);
                return __expression_z3t1oK(321), this.blocks[name] = prev;
            }
            {
                __statement_xFXwa4(322);
                var allNodes = __extro_qtq7J3(323, __intro_JYo7Rn(323, __extro_qtq7J3(324, __intro_JYo7Rn(324, prev.prepended).concat(block.nodes))).concat(prev.appended));
            }
            switch (__expression_z3t1oK(325), mode) {
            case 'append': {
                    __block_uz2z5R(73);
                    {
                        __statement_xFXwa4(326);
                        prev.appended = (__expression_z3t1oK(329), prev.parser === this) ? (__expression_z3t1oK(327), __extro_qtq7J3(330, __intro_JYo7Rn(330, prev.appended).concat(block.nodes))) : (__expression_z3t1oK(328), __extro_qtq7J3(331, __intro_JYo7Rn(331, block.nodes).concat(prev.appended)));
                    }
                    break;
                }
            case 'prepend': {
                    __block_uz2z5R(74);
                    {
                        __statement_xFXwa4(332);
                        prev.prepended = (__expression_z3t1oK(335), prev.parser === this) ? (__expression_z3t1oK(333), __extro_qtq7J3(336, __intro_JYo7Rn(336, block.nodes).concat(prev.prepended))) : (__expression_z3t1oK(334), __extro_qtq7J3(337, __intro_JYo7Rn(337, prev.prepended).concat(block.nodes)));
                    }
                    break;
                }
            }
            {
                __statement_xFXwa4(338);
                block.nodes = allNodes;
            }
            {
                __statement_xFXwa4(339);
                block.appended = prev.appended;
            }
            {
                __statement_xFXwa4(340);
                block.prepended = prev.prepended;
            }
            {
                __statement_xFXwa4(341);
                block.mode = mode;
            }
            {
                __statement_xFXwa4(342);
                block.parser = this;
            }
            return __expression_z3t1oK(343), this.blocks[name] = block;
        },
        parseMixinBlock: function () {
            __block_uz2z5R(75);
            {
                __statement_xFXwa4(344);
                var block = __extro_qtq7J3(345, __intro_JYo7Rn(345, this).expect('mixin-block'));
            }
            if (__expression_z3t1oK(346), !this.inMixin) {
                __block_uz2z5R(76);
                {
                    __statement_xFXwa4(347);
                    throw new Error('Anonymous blocks are not allowed unless they are part of a mixin.');
                }
            }
            return __expression_z3t1oK(348), new nodes.MixinBlock();
        },
        parseInclude: function () {
            __block_uz2z5R(77);
            {
                __statement_xFXwa4(349);
                var fs = (__expression_z3t1oK(350), require('fs'));
            }
            {
                __statement_xFXwa4(351);
                var tok = __extro_qtq7J3(352, __intro_JYo7Rn(352, this).expect('include'));
            }
            {
                __statement_xFXwa4(353);
                var path = __extro_qtq7J3(354, __intro_JYo7Rn(354, this).resolvePath(__extro_qtq7J3(355, __intro_JYo7Rn(355, tok.val).trim()), 'include'));
            }
            if (tok.filter) {
                __block_uz2z5R(78);
                {
                    __statement_xFXwa4(356);
                    var str = __extro_qtq7J3(357, __intro_JYo7Rn(357, __extro_qtq7J3(358, __intro_JYo7Rn(358, fs).readFileSync(path, 'utf8'))).replace(/\r/g, ''));
                }
                {
                    __statement_xFXwa4(359);
                    str = (__expression_z3t1oK(360), filters(tok.filter, str, {
                        filename: path
                    }));
                }
                return __expression_z3t1oK(361), new nodes.Literal(str);
            }
            if (__expression_z3t1oK(362), '.jade' != __extro_qtq7J3(363, __intro_JYo7Rn(363, path).substr((__expression_z3t1oK(364), -5)))) {
                __block_uz2z5R(79);
                {
                    __statement_xFXwa4(365);
                    var str = __extro_qtq7J3(366, __intro_JYo7Rn(366, __extro_qtq7J3(367, __intro_JYo7Rn(367, fs).readFileSync(path, 'utf8'))).replace(/\r/g, ''));
                }
                return __expression_z3t1oK(368), new nodes.Literal(str);
            }
            {
                __statement_xFXwa4(369);
                var str = __extro_qtq7J3(370, __intro_JYo7Rn(370, fs).readFileSync(path, 'utf8'));
            }
            {
                __statement_xFXwa4(371);
                var parser = new this.constructor(str, path, this.options);
            }
            {
                __statement_xFXwa4(372);
                parser.blocks = __extro_qtq7J3(373, __intro_JYo7Rn(373, utils).merge({}, this.blocks));
            }
            {
                __statement_xFXwa4(374);
                parser.mixins = this.mixins;
            }
            {
                __statement_xFXwa4(375);
                __extro_qtq7J3(376, __intro_JYo7Rn(376, this).context(parser));
            }
            {
                __statement_xFXwa4(377);
                var ast = __extro_qtq7J3(378, __intro_JYo7Rn(378, parser).parse());
            }
            {
                __statement_xFXwa4(379);
                __extro_qtq7J3(380, __intro_JYo7Rn(380, this).context());
            }
            {
                __statement_xFXwa4(381);
                ast.filename = path;
            }
            if (__expression_z3t1oK(382), 'indent' == __extro_qtq7J3(383, __intro_JYo7Rn(383, this).peek()).type) {
                __block_uz2z5R(80);
                {
                    __statement_xFXwa4(384);
                    __extro_qtq7J3(385, __intro_JYo7Rn(385, __extro_qtq7J3(386, __intro_JYo7Rn(386, ast).includeBlock())).push(__extro_qtq7J3(387, __intro_JYo7Rn(387, this).block())));
                }
            }
            return __expression_z3t1oK(388), ast;
        },
        parseCall: function () {
            __block_uz2z5R(81);
            {
                __statement_xFXwa4(389);
                var tok = __extro_qtq7J3(390, __intro_JYo7Rn(390, this).expect('call'));
            }
            {
                __statement_xFXwa4(391);
                var name = tok.val;
            }
            {
                __statement_xFXwa4(392);
                var args = tok.args;
            }
            {
                __statement_xFXwa4(393);
                var mixin = new nodes.Mixin(name, args, new nodes.Block(), true);
            }
            {
                __statement_xFXwa4(394);
                __extro_qtq7J3(395, __intro_JYo7Rn(395, this).tag(mixin));
            }
            if (mixin.code) {
                __block_uz2z5R(82);
                {
                    __statement_xFXwa4(396);
                    __extro_qtq7J3(397, __intro_JYo7Rn(397, mixin.block).push(mixin.code));
                }
                {
                    __statement_xFXwa4(398);
                    mixin.code = null;
                }
            }
            if (__extro_qtq7J3(399, __intro_JYo7Rn(399, mixin.block).isEmpty())) {
                __block_uz2z5R(83);
                {
                    __statement_xFXwa4(400);
                    mixin.block = null;
                }
            }
            return __expression_z3t1oK(401), mixin;
        },
        parseMixin: function () {
            __block_uz2z5R(84);
            {
                __statement_xFXwa4(402);
                var tok = __extro_qtq7J3(403, __intro_JYo7Rn(403, this).expect('mixin'));
            }
            {
                __statement_xFXwa4(404);
                var name = tok.val;
            }
            {
                __statement_xFXwa4(405);
                var args = tok.args;
            }
            {
                __statement_xFXwa4(406);
                var mixin;
            }
            if (__expression_z3t1oK(407), 'indent' == __extro_qtq7J3(408, __intro_JYo7Rn(408, this).peek()).type) {
                __block_uz2z5R(85);
                {
                    __statement_xFXwa4(409);
                    this.inMixin = true;
                }
                {
                    __statement_xFXwa4(410);
                    mixin = new nodes.Mixin(name, args, __extro_qtq7J3(411, __intro_JYo7Rn(411, this).block()), false);
                }
                {
                    __statement_xFXwa4(412);
                    this.mixins[name] = mixin;
                }
                {
                    __statement_xFXwa4(413);
                    this.inMixin = false;
                }
                return __expression_z3t1oK(414), mixin;
            } else {
                __block_uz2z5R(86);
                return __expression_z3t1oK(415), new nodes.Mixin(name, args, null, true);
            }
        },
        parseTextWithInlineTags: function (str) {
            __block_uz2z5R(87);
            {
                __statement_xFXwa4(416);
                var line = __extro_qtq7J3(417, __intro_JYo7Rn(417, this).line());
            }
            {
                __statement_xFXwa4(418);
                var match = __extro_qtq7J3(419, __intro_JYo7Rn(419, /(\\)?#\[((?:.|\n)*)$/).exec(str));
            }
            if (__expression_z3t1oK(420), match) {
                __block_uz2z5R(88);
                if (match[1]) {
                    __block_uz2z5R(89);
                    {
                        __statement_xFXwa4(421);
                        var text = new nodes.Text((__expression_z3t1oK(422), __extro_qtq7J3(423, __intro_JYo7Rn(423, str).substr(0, match.index)) + '#['));
                    }
                    {
                        __statement_xFXwa4(424);
                        text.line = line;
                    }
                    {
                        __statement_xFXwa4(425);
                        var rest = __extro_qtq7J3(426, __intro_JYo7Rn(426, this).parseTextWithInlineTags(match[2]));
                    }
                    if (__expression_z3t1oK(427), rest[0].type === 'Text') {
                        __block_uz2z5R(90);
                        {
                            __statement_xFXwa4(428);
                            text.val += rest[0].val;
                        }
                        {
                            __statement_xFXwa4(429);
                            __extro_qtq7J3(430, __intro_JYo7Rn(430, rest).shift());
                        }
                    }
                    return __expression_z3t1oK(431), __extro_qtq7J3(432, __intro_JYo7Rn(432, [
                        text
                    ]).concat(rest));
                } else {
                    __block_uz2z5R(91);
                    {
                        __statement_xFXwa4(433);
                        var text = new nodes.Text(__extro_qtq7J3(434, __intro_JYo7Rn(434, str).substr(0, match.index)));
                    }
                    {
                        __statement_xFXwa4(435);
                        text.line = line;
                    }
                    {
                        __statement_xFXwa4(436);
                        var buffer = [
                                text
                            ];
                    }
                    {
                        __statement_xFXwa4(437);
                        var rest = match[2];
                    }
                    {
                        __statement_xFXwa4(438);
                        var range = (__expression_z3t1oK(439), parseJSExpression(rest));
                    }
                    {
                        __statement_xFXwa4(440);
                        var inner = new Parser(range.src, this.filename, this.options);
                    }
                    {
                        __statement_xFXwa4(441);
                        __extro_qtq7J3(442, __intro_JYo7Rn(442, buffer).push(__extro_qtq7J3(443, __intro_JYo7Rn(443, inner).parse())));
                    }
                    return __expression_z3t1oK(444), __extro_qtq7J3(445, __intro_JYo7Rn(445, buffer).concat(__extro_qtq7J3(446, __intro_JYo7Rn(446, this).parseTextWithInlineTags(__extro_qtq7J3(447, __intro_JYo7Rn(447, rest).substr((__expression_z3t1oK(448), range.end + 1)))))));
                }
            } else {
                __block_uz2z5R(92);
                {
                    __statement_xFXwa4(449);
                    var text = new nodes.Text(str);
                }
                {
                    __statement_xFXwa4(450);
                    text.line = line;
                }
                return __expression_z3t1oK(451), [
                    text
                ];
            }
        },
        parseTextBlock: function () {
            __block_uz2z5R(93);
            {
                __statement_xFXwa4(452);
                var block = new nodes.Block();
            }
            {
                __statement_xFXwa4(453);
                block.line = __extro_qtq7J3(454, __intro_JYo7Rn(454, this).line());
            }
            {
                __statement_xFXwa4(455);
                var spaces = __extro_qtq7J3(456, __intro_JYo7Rn(456, this).expect('indent')).val;
            }
            if (__expression_z3t1oK(457), null == this._spaces) {
                __block_uz2z5R(94);
                {
                    __statement_xFXwa4(458);
                    this._spaces = spaces;
                }
            }
            {
                __statement_xFXwa4(459);
                var indent = __extro_qtq7J3(460, __intro_JYo7Rn(460, (__expression_z3t1oK(461), Array((__expression_z3t1oK(462), (__expression_z3t1oK(463), (__expression_z3t1oK(464), spaces) - this._spaces) + 1)))).join(' '));
            }
            while (__expression_z3t1oK(465), 'outdent' != __extro_qtq7J3(466, __intro_JYo7Rn(466, this).peek()).type) {
                __block_uz2z5R(95);
                switch (__extro_qtq7J3(467, __intro_JYo7Rn(467, this).peek()).type) {
                case 'newline': {
                        __block_uz2z5R(96);
                        {
                            __statement_xFXwa4(468);
                            __extro_qtq7J3(469, __intro_JYo7Rn(469, this).advance());
                        }
                        break;
                    }
                case 'indent': {
                        __block_uz2z5R(97);
                        {
                            __statement_xFXwa4(470);
                            __extro_qtq7J3(471, __intro_JYo7Rn(471, __extro_qtq7J3(472, __intro_JYo7Rn(472, this).parseTextBlock(true)).nodes).forEach(function (node) {
                                __block_uz2z5R(98);
                                {
                                    __statement_xFXwa4(473);
                                    __extro_qtq7J3(474, __intro_JYo7Rn(474, block).push(node));
                                }
                            }));
                        }
                        break;
                    }
                default: {
                        __block_uz2z5R(99);
                        {
                            __statement_xFXwa4(475);
                            var texts = __extro_qtq7J3(476, __intro_JYo7Rn(476, this).parseTextWithInlineTags((__expression_z3t1oK(477), (__expression_z3t1oK(478), indent) + __extro_qtq7J3(479, __intro_JYo7Rn(479, this).advance()).val)));
                        }
                        {
                            __statement_xFXwa4(480);
                            __extro_qtq7J3(481, __intro_JYo7Rn(481, texts).forEach(function (text) {
                                __block_uz2z5R(100);
                                {
                                    __statement_xFXwa4(482);
                                    __extro_qtq7J3(483, __intro_JYo7Rn(483, block).push(text));
                                }
                            }));
                        }
                    }
                }
            }
            if (__expression_z3t1oK(484), (__expression_z3t1oK(485), spaces) == this._spaces) {
                __block_uz2z5R(101);
                {
                    __statement_xFXwa4(486);
                    this._spaces = null;
                }
            }
            {
                __statement_xFXwa4(487);
                __extro_qtq7J3(488, __intro_JYo7Rn(488, this).expect('outdent'));
            }
            return __expression_z3t1oK(489), block;
        },
        block: function () {
            __block_uz2z5R(102);
            {
                __statement_xFXwa4(490);
                var block = new nodes.Block();
            }
            {
                __statement_xFXwa4(491);
                block.line = __extro_qtq7J3(492, __intro_JYo7Rn(492, this).line());
            }
            {
                __statement_xFXwa4(493);
                block.filename = this.filename;
            }
            {
                __statement_xFXwa4(494);
                __extro_qtq7J3(495, __intro_JYo7Rn(495, this).expect('indent'));
            }
            while (__expression_z3t1oK(496), 'outdent' != __extro_qtq7J3(497, __intro_JYo7Rn(497, this).peek()).type) {
                __block_uz2z5R(103);
                if (__expression_z3t1oK(498), 'newline' == __extro_qtq7J3(499, __intro_JYo7Rn(499, this).peek()).type) {
                    __block_uz2z5R(104);
                    {
                        __statement_xFXwa4(500);
                        __extro_qtq7J3(501, __intro_JYo7Rn(501, this).advance());
                    }
                } else {
                    __block_uz2z5R(105);
                    {
                        __statement_xFXwa4(502);
                        var expr = __extro_qtq7J3(503, __intro_JYo7Rn(503, this).parseExpr());
                    }
                    {
                        __statement_xFXwa4(504);
                        expr.filename = this.filename;
                    }
                    {
                        __statement_xFXwa4(505);
                        __extro_qtq7J3(506, __intro_JYo7Rn(506, block).push(expr));
                    }
                }
            }
            {
                __statement_xFXwa4(507);
                __extro_qtq7J3(508, __intro_JYo7Rn(508, this).expect('outdent'));
            }
            return __expression_z3t1oK(509), block;
        },
        parseInterpolation: function () {
            __block_uz2z5R(106);
            {
                __statement_xFXwa4(510);
                var tok = __extro_qtq7J3(511, __intro_JYo7Rn(511, this).advance());
            }
            {
                __statement_xFXwa4(512);
                var tag = new nodes.Tag(tok.val);
            }
            {
                __statement_xFXwa4(513);
                tag.buffer = true;
            }
            return __expression_z3t1oK(514), __extro_qtq7J3(515, __intro_JYo7Rn(515, this).tag(tag));
        },
        parseTag: function () {
            __block_uz2z5R(107);
            {
                __statement_xFXwa4(516);
                var tok = __extro_qtq7J3(517, __intro_JYo7Rn(517, this).advance());
            }
            {
                __statement_xFXwa4(518);
                var tag = new nodes.Tag(tok.val);
            }
            {
                __statement_xFXwa4(519);
                tag.selfClosing = tok.selfClosing;
            }
            return __expression_z3t1oK(520), __extro_qtq7J3(521, __intro_JYo7Rn(521, this).tag(tag));
        },
        tag: function (tag) {
            __block_uz2z5R(108);
            {
                __statement_xFXwa4(522);
                tag.line = __extro_qtq7J3(523, __intro_JYo7Rn(523, this).line());
            }
            {
                __statement_xFXwa4(524);
                var seenAttrs = false;
            }
            out: {
                __block_uz2z5R(109);
                while (true) {
                    __block_uz2z5R(110);
                    switch (__extro_qtq7J3(525, __intro_JYo7Rn(525, this).peek()).type) {
                    case 'id':
                    case 'class': {
                            __block_uz2z5R(111);
                            {
                                __statement_xFXwa4(526);
                                var tok = __extro_qtq7J3(527, __intro_JYo7Rn(527, this).advance());
                            }
                            {
                                __statement_xFXwa4(528);
                                __extro_qtq7J3(529, __intro_JYo7Rn(529, tag).setAttribute(tok.type, (__expression_z3t1oK(530), (__expression_z3t1oK(531), '\'' + tok.val) + '\'')));
                            }
                            continue;
                        }
                    case 'attrs': {
                            __block_uz2z5R(112);
                            if (__expression_z3t1oK(532), seenAttrs) {
                                __block_uz2z5R(113);
                                {
                                    __statement_xFXwa4(533);
                                    __extro_qtq7J3(534, __intro_JYo7Rn(534, console).warn('You should not have jade tags with multiple attributes.'));
                                }
                            }
                            {
                                __statement_xFXwa4(535);
                                seenAttrs = true;
                            }
                            {
                                __statement_xFXwa4(536);
                                var tok = __extro_qtq7J3(537, __intro_JYo7Rn(537, this).advance());
                            }
                            {
                                __statement_xFXwa4(538);
                                var attrs = tok.attrs;
                            }
                            if (tok.selfClosing) {
                                __block_uz2z5R(114);
                                {
                                    __statement_xFXwa4(539);
                                    tag.selfClosing = true;
                                }
                            }
                            for (var i = 0; __expression_z3t1oK(540), (__expression_z3t1oK(541), i) < attrs.length; __expression_z3t1oK(542), i++) {
                                __block_uz2z5R(115);
                                {
                                    __statement_xFXwa4(543);
                                    __extro_qtq7J3(544, __intro_JYo7Rn(544, tag).setAttribute(attrs[i].name, attrs[i].val, attrs[i].escaped));
                                }
                            }
                            continue;
                        }
                    case '&attributes': {
                            __block_uz2z5R(116);
                            {
                                __statement_xFXwa4(545);
                                var tok = __extro_qtq7J3(546, __intro_JYo7Rn(546, this).advance());
                            }
                            {
                                __statement_xFXwa4(547);
                                __extro_qtq7J3(548, __intro_JYo7Rn(548, tag).addAttributes(tok.val));
                            }
                            break;
                        }
                    default: {
                            __block_uz2z5R(117);
                            break out;
                        }
                    }
                }
            }
            if (__expression_z3t1oK(549), 'dot' == __extro_qtq7J3(550, __intro_JYo7Rn(550, this).peek()).type) {
                __block_uz2z5R(118);
                {
                    __statement_xFXwa4(551);
                    tag.textOnly = true;
                }
                {
                    __statement_xFXwa4(552);
                    __extro_qtq7J3(553, __intro_JYo7Rn(553, this).advance());
                }
            }
            if (__expression_z3t1oK(554), (__expression_z3t1oK(555), tag.selfClosing && (__expression_z3t1oK(556), __extro_qtq7J3(557, __intro_JYo7Rn(557, [
                    'newline',
                    'outdent',
                    'eos'
                ]).indexOf(__extro_qtq7J3(558, __intro_JYo7Rn(558, this).peek()).type)) === (__expression_z3t1oK(559), -1))) && (__expression_z3t1oK(560), (__expression_z3t1oK(561), __extro_qtq7J3(562, __intro_JYo7Rn(562, this).peek()).type !== 'text') || __extro_qtq7J3(563, __intro_JYo7Rn(563, /^\s*$/).text(__extro_qtq7J3(564, __intro_JYo7Rn(564, this).peek()).val)))) {
                __block_uz2z5R(119);
                {
                    __statement_xFXwa4(565);
                    throw new Error((__expression_z3t1oK(566), (__expression_z3t1oK(567), name) + ' is self closing and should not have content.'));
                }
            }
            switch (__extro_qtq7J3(568, __intro_JYo7Rn(568, this).peek()).type) {
            case 'text': {
                    __block_uz2z5R(120);
                    {
                        __statement_xFXwa4(569);
                        __extro_qtq7J3(570, __intro_JYo7Rn(570, tag.block).push(__extro_qtq7J3(571, __intro_JYo7Rn(571, this).parseText())));
                    }
                    break;
                }
            case 'code': {
                    __block_uz2z5R(121);
                    {
                        __statement_xFXwa4(572);
                        tag.code = __extro_qtq7J3(573, __intro_JYo7Rn(573, this).parseCode());
                    }
                    break;
                }
            case ':': {
                    __block_uz2z5R(122);
                    {
                        __statement_xFXwa4(574);
                        __extro_qtq7J3(575, __intro_JYo7Rn(575, this).advance());
                    }
                    {
                        __statement_xFXwa4(576);
                        tag.block = new nodes.Block();
                    }
                    {
                        __statement_xFXwa4(577);
                        __extro_qtq7J3(578, __intro_JYo7Rn(578, tag.block).push(__extro_qtq7J3(579, __intro_JYo7Rn(579, this).parseExpr())));
                    }
                    break;
                }
            case 'newline':
            case 'indent':
            case 'outdent':
            case 'eos': {
                    __block_uz2z5R(123);
                    break;
                }
            default: {
                    __block_uz2z5R(124);
                    {
                        __statement_xFXwa4(580);
                        throw new Error((__expression_z3t1oK(581), (__expression_z3t1oK(582), 'Unexpected token `' + __extro_qtq7J3(583, __intro_JYo7Rn(583, this).peek()).type) + '` expected `text`, `code`, `:`, `newline` or `eos`'));
                    }
                }
            }
            while (__expression_z3t1oK(584), 'newline' == __extro_qtq7J3(585, __intro_JYo7Rn(585, this).peek()).type) {
                __block_uz2z5R(125);
                {
                    __statement_xFXwa4(586);
                    __extro_qtq7J3(587, __intro_JYo7Rn(587, this).advance());
                }
            }
            if (__expression_z3t1oK(588), 'indent' == __extro_qtq7J3(589, __intro_JYo7Rn(589, this).peek()).type) {
                __block_uz2z5R(126);
                if (tag.textOnly) {
                    __block_uz2z5R(127);
                    {
                        __statement_xFXwa4(590);
                        this.lexer.pipeless = true;
                    }
                    {
                        __statement_xFXwa4(591);
                        tag.block = __extro_qtq7J3(592, __intro_JYo7Rn(592, this).parseTextBlock());
                    }
                    {
                        __statement_xFXwa4(593);
                        this.lexer.pipeless = false;
                    }
                } else {
                    __block_uz2z5R(128);
                    {
                        __statement_xFXwa4(594);
                        var block = __extro_qtq7J3(595, __intro_JYo7Rn(595, this).block());
                    }
                    if (tag.block) {
                        __block_uz2z5R(129);
                        for (var i = 0, len = block.nodes.length; __expression_z3t1oK(596), (__expression_z3t1oK(597), i) < (__expression_z3t1oK(598), len); __expression_z3t1oK(599), ++i) {
                            __block_uz2z5R(130);
                            {
                                __statement_xFXwa4(600);
                                __extro_qtq7J3(601, __intro_JYo7Rn(601, tag.block).push(block.nodes[i]));
                            }
                        }
                    } else {
                        __block_uz2z5R(131);
                        {
                            __statement_xFXwa4(602);
                            tag.block = block;
                        }
                    }
                }
            }
            return __expression_z3t1oK(603), tag;
        }
    };
}