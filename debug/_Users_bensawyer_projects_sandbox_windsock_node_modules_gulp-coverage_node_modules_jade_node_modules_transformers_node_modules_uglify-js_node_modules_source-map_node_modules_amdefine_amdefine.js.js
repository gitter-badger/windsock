
// Instrumentation Header
{
    var fs = require('fs');
    var __statement_LQh0TW, __expression_jw0W6u, __block_XZGsd1;
    var store = require('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/contrib/coverage_store.js');
    
    __statement_LQh0TW = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/node_modules/transformers/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js');
        fs.writeSync(fd, '{"statement": {"node": ' + i + '}},\n');
    }; 
    
    __expression_jw0W6u = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/node_modules/transformers/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js');
        fs.writeSync(fd, '{"expression": {"node": ' + i + '}},\n');
    }; 
    
    __block_XZGsd1 = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/node_modules/transformers/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js');
        fs.writeSync(fd, '{"block": ' + i + '},\n');
    }; 
    __intro_KQ8V8y = function(id, obj) {
        // console.log('__intro: ', id, ', obj.__instrumented_miss: ', obj.__instrumented_miss, ', obj.length: ', obj.length);
        (typeof obj === 'object' || typeof obj === 'function') &&
            Object.defineProperty && Object.defineProperty(obj, '__instrumented_miss', {enumerable: false, writable: true});
        obj.__instrumented_miss = obj.__instrumented_miss || [];
        if ('undefined' !== typeof obj && null !== obj && 'undefined' !== typeof obj.__instrumented_miss) {
            if (obj.length === 0) {
                // console.log('interim miss: ', id);
                obj.__instrumented_miss[id] = true;
            } else {
                obj.__instrumented_miss[id] = false;
            }
        }
        return obj;
    };
    function isProbablyChainable(obj, id) {
        return obj &&
            obj.__instrumented_miss[id] !== undefined &&
            'number' === typeof obj.length;
    }
    __extro_ROA5g9 = function(id, obj) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/node_modules/transformers/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js');
        // console.log('__extro: ', id, ', obj.__instrumented_miss: ', obj.__instrumented_miss, ', obj.length: ', obj.length);
        if ('undefined' !== typeof obj && null !== obj && 'undefined' !== typeof obj.__instrumented_miss) {
            if (isProbablyChainable(obj, id) && obj.length === 0 && obj.__instrumented_miss[id]) {
                // if the call was not a "constructor" - i.e. it did not add things to the chainable
                // and it did not return anything from the chainable, it is a miss
                // console.log('miss: ', id);
            } else {
                fs.writeSync(fd, '{"chain": {"node": ' + id + '}},\n');
            }
            obj.__instrumented_miss[id] = undefined;
        } else {
            fs.writeSync(fd, '{"chain": {"node": ' + id + '}},\n');
        }
        return obj;
    };
};
////////////////////////

// Instrumented Code
{
    __statement_LQh0TW(0);
    'use strict';
}
function amdefine(module, requireFn) {
    __block_XZGsd1(0);
    {
        __statement_LQh0TW(1);
        'use strict';
    }
    {
        __statement_LQh0TW(2);
        var defineCache = {}, loaderCache = {}, alreadyCalled = false, path = (__expression_jw0W6u(3), require('path')), makeRequire, stringRequire;
    }
    function trimDots(ary) {
        __block_XZGsd1(1);
        {
            __statement_LQh0TW(4);
            var i, part;
        }
        for (i = 0; ary[i]; i += 1) {
            __block_XZGsd1(2);
            {
                __statement_LQh0TW(5);
                part = ary[i];
            }
            if (__expression_jw0W6u(6), (__expression_jw0W6u(7), part) === '.') {
                __block_XZGsd1(3);
                {
                    __statement_LQh0TW(8);
                    __extro_ROA5g9(9, __intro_KQ8V8y(9, ary).splice(i, 1));
                }
                {
                    __statement_LQh0TW(10);
                    i -= 1;
                }
            } else if (__expression_jw0W6u(11), (__expression_jw0W6u(12), part) === '..') {
                __block_XZGsd1(4);
                if (__expression_jw0W6u(13), (__expression_jw0W6u(14), (__expression_jw0W6u(15), i) === 1) && (__expression_jw0W6u(16), (__expression_jw0W6u(17), ary[2] === '..') || (__expression_jw0W6u(18), ary[0] === '..'))) {
                    __block_XZGsd1(5);
                    break;
                } else if (__expression_jw0W6u(19), (__expression_jw0W6u(20), i) > 0) {
                    __block_XZGsd1(6);
                    {
                        __statement_LQh0TW(21);
                        __extro_ROA5g9(22, __intro_KQ8V8y(22, ary).splice((__expression_jw0W6u(23), (__expression_jw0W6u(24), i) - 1), 2));
                    }
                    {
                        __statement_LQh0TW(25);
                        i -= 2;
                    }
                }
            }
        }
    }
    function normalize(name, baseName) {
        __block_XZGsd1(7);
        {
            __statement_LQh0TW(26);
            var baseParts;
        }
        if (__expression_jw0W6u(27), (__expression_jw0W6u(28), name) && (__expression_jw0W6u(29), __extro_ROA5g9(30, __intro_KQ8V8y(30, name).charAt(0)) === '.')) {
            __block_XZGsd1(8);
            if (__expression_jw0W6u(31), baseName) {
                __block_XZGsd1(9);
                {
                    __statement_LQh0TW(32);
                    baseParts = __extro_ROA5g9(33, __intro_KQ8V8y(33, baseName).split('/'));
                }
                {
                    __statement_LQh0TW(34);
                    baseParts = __extro_ROA5g9(35, __intro_KQ8V8y(35, baseParts).slice(0, (__expression_jw0W6u(36), baseParts.length - 1)));
                }
                {
                    __statement_LQh0TW(37);
                    baseParts = __extro_ROA5g9(38, __intro_KQ8V8y(38, baseParts).concat(__extro_ROA5g9(39, __intro_KQ8V8y(39, name).split('/'))));
                }
                {
                    __statement_LQh0TW(40);
                    __expression_jw0W6u(41), trimDots(baseParts);
                }
                {
                    __statement_LQh0TW(42);
                    name = __extro_ROA5g9(43, __intro_KQ8V8y(43, baseParts).join('/'));
                }
            }
        }
        return __expression_jw0W6u(44), name;
    }
    function makeNormalize(relName) {
        __block_XZGsd1(10);
        return __expression_jw0W6u(45), function (name) {
            __block_XZGsd1(11);
            return __expression_jw0W6u(46), (__expression_jw0W6u(47), normalize(name, relName));
        };
    }
    function makeLoad(id) {
        __block_XZGsd1(12);
        function load(value) {
            __block_XZGsd1(13);
            {
                __statement_LQh0TW(48);
                loaderCache[id] = value;
            }
        }
        {
            __statement_LQh0TW(49);
            load.fromText = function (id, text) {
                __block_XZGsd1(14);
                {
                    __statement_LQh0TW(50);
                    throw new Error('amdefine does not implement load.fromText');
                }
            };
        }
        return __expression_jw0W6u(51), load;
    }
    {
        __statement_LQh0TW(52);
        makeRequire = function (systemRequire, exports, module, relId) {
            __block_XZGsd1(15);
            function amdRequire(deps, callback) {
                __block_XZGsd1(16);
                if (__expression_jw0W6u(53), (__expression_jw0W6u(54), typeof deps) === 'string') {
                    __block_XZGsd1(17);
                    return __expression_jw0W6u(55), (__expression_jw0W6u(56), stringRequire(systemRequire, exports, module, deps, relId));
                } else {
                    __block_XZGsd1(18);
                    {
                        __statement_LQh0TW(57);
                        deps = __extro_ROA5g9(58, __intro_KQ8V8y(58, deps).map(function (depName) {
                            __block_XZGsd1(19);
                            return __expression_jw0W6u(59), (__expression_jw0W6u(60), stringRequire(systemRequire, exports, module, depName, relId));
                        }));
                    }
                    {
                        __statement_LQh0TW(61);
                        __extro_ROA5g9(62, __intro_KQ8V8y(62, process).nextTick(function () {
                            __block_XZGsd1(20);
                            {
                                __statement_LQh0TW(63);
                                __extro_ROA5g9(64, __intro_KQ8V8y(64, callback).apply(null, deps));
                            }
                        }));
                    }
                }
            }
            {
                __statement_LQh0TW(65);
                amdRequire.toUrl = function (filePath) {
                    __block_XZGsd1(21);
                    if (__expression_jw0W6u(66), __extro_ROA5g9(67, __intro_KQ8V8y(67, filePath).indexOf('.')) === 0) {
                        __block_XZGsd1(22);
                        return __expression_jw0W6u(68), (__expression_jw0W6u(69), normalize(filePath, __extro_ROA5g9(70, __intro_KQ8V8y(70, path).dirname(module.filename))));
                    } else {
                        __block_XZGsd1(23);
                        return __expression_jw0W6u(71), filePath;
                    }
                };
            }
            return __expression_jw0W6u(72), amdRequire;
        };
    }
    {
        __statement_LQh0TW(73);
        requireFn = (__expression_jw0W6u(74), (__expression_jw0W6u(75), requireFn) || function req() {
            __block_XZGsd1(24);
            return __expression_jw0W6u(76), __extro_ROA5g9(77, __intro_KQ8V8y(77, module.require).apply(module, arguments));
        });
    }
    function runFactory(id, deps, factory) {
        __block_XZGsd1(25);
        {
            __statement_LQh0TW(78);
            var r, e, m, result;
        }
        if (__expression_jw0W6u(79), id) {
            __block_XZGsd1(26);
            {
                __statement_LQh0TW(80);
                e = loaderCache[id] = {};
            }
            {
                __statement_LQh0TW(81);
                m = {
                    id: id,
                    uri: __filename,
                    exports: e
                };
            }
            {
                __statement_LQh0TW(82);
                r = (__expression_jw0W6u(83), makeRequire(requireFn, e, m, id));
            }
        } else {
            __block_XZGsd1(27);
            if (__expression_jw0W6u(84), alreadyCalled) {
                __block_XZGsd1(28);
                {
                    __statement_LQh0TW(85);
                    throw new Error('amdefine with no module ID cannot be called more than once per file.');
                }
            }
            {
                __statement_LQh0TW(86);
                alreadyCalled = true;
            }
            {
                __statement_LQh0TW(87);
                e = module.exports;
            }
            {
                __statement_LQh0TW(88);
                m = module;
            }
            {
                __statement_LQh0TW(89);
                r = (__expression_jw0W6u(90), makeRequire(requireFn, e, m, module.id));
            }
        }
        if (__expression_jw0W6u(91), deps) {
            __block_XZGsd1(29);
            {
                __statement_LQh0TW(92);
                deps = __extro_ROA5g9(93, __intro_KQ8V8y(93, deps).map(function (depName) {
                    __block_XZGsd1(30);
                    return __expression_jw0W6u(94), (__expression_jw0W6u(95), r(depName));
                }));
            }
        }
        if (__expression_jw0W6u(96), (__expression_jw0W6u(97), typeof factory) === 'function') {
            __block_XZGsd1(31);
            {
                __statement_LQh0TW(98);
                result = __extro_ROA5g9(99, __intro_KQ8V8y(99, factory).apply(m.exports, deps));
            }
        } else {
            __block_XZGsd1(32);
            {
                __statement_LQh0TW(100);
                result = factory;
            }
        }
        if (__expression_jw0W6u(101), (__expression_jw0W6u(102), result) !== (__expression_jw0W6u(103), undefined)) {
            __block_XZGsd1(33);
            {
                __statement_LQh0TW(104);
                m.exports = result;
            }
            if (__expression_jw0W6u(105), id) {
                __block_XZGsd1(34);
                {
                    __statement_LQh0TW(106);
                    loaderCache[id] = m.exports;
                }
            }
        }
    }
    {
        __statement_LQh0TW(107);
        stringRequire = function (systemRequire, exports, module, id, relId) {
            __block_XZGsd1(35);
            {
                __statement_LQh0TW(108);
                var index = __extro_ROA5g9(109, __intro_KQ8V8y(109, id).indexOf('!')), originalId = id, prefix, plugin;
            }
            if (__expression_jw0W6u(110), (__expression_jw0W6u(111), index) === (__expression_jw0W6u(112), -1)) {
                __block_XZGsd1(36);
                {
                    __statement_LQh0TW(113);
                    id = (__expression_jw0W6u(114), normalize(id, relId));
                }
                if (__expression_jw0W6u(115), (__expression_jw0W6u(116), id) === 'require') {
                    __block_XZGsd1(37);
                    return __expression_jw0W6u(117), (__expression_jw0W6u(118), makeRequire(systemRequire, exports, module, relId));
                } else if (__expression_jw0W6u(119), (__expression_jw0W6u(120), id) === 'exports') {
                    __block_XZGsd1(38);
                    return __expression_jw0W6u(121), exports;
                } else if (__expression_jw0W6u(122), (__expression_jw0W6u(123), id) === 'module') {
                    __block_XZGsd1(39);
                    return __expression_jw0W6u(124), module;
                } else if (__extro_ROA5g9(125, __intro_KQ8V8y(125, loaderCache).hasOwnProperty(id))) {
                    __block_XZGsd1(40);
                    return __expression_jw0W6u(126), loaderCache[id];
                } else if (defineCache[id]) {
                    __block_XZGsd1(41);
                    {
                        __statement_LQh0TW(127);
                        __extro_ROA5g9(128, __intro_KQ8V8y(128, runFactory).apply(null, defineCache[id]));
                    }
                    return __expression_jw0W6u(129), loaderCache[id];
                } else {
                    __block_XZGsd1(42);
                    if (__expression_jw0W6u(130), systemRequire) {
                        __block_XZGsd1(43);
                        return __expression_jw0W6u(131), (__expression_jw0W6u(132), systemRequire(originalId));
                    } else {
                        __block_XZGsd1(44);
                        {
                            __statement_LQh0TW(133);
                            throw new Error((__expression_jw0W6u(134), 'No module with ID: ' + (__expression_jw0W6u(135), id)));
                        }
                    }
                }
            } else {
                __block_XZGsd1(45);
                {
                    __statement_LQh0TW(136);
                    prefix = __extro_ROA5g9(137, __intro_KQ8V8y(137, id).substring(0, index));
                }
                {
                    __statement_LQh0TW(138);
                    id = __extro_ROA5g9(139, __intro_KQ8V8y(139, id).substring((__expression_jw0W6u(140), (__expression_jw0W6u(141), index) + 1), id.length));
                }
                {
                    __statement_LQh0TW(142);
                    plugin = (__expression_jw0W6u(143), stringRequire(systemRequire, exports, module, prefix, relId));
                }
                if (plugin.normalize) {
                    __block_XZGsd1(46);
                    {
                        __statement_LQh0TW(144);
                        id = __extro_ROA5g9(145, __intro_KQ8V8y(145, plugin).normalize(id, (__expression_jw0W6u(146), makeNormalize(relId))));
                    }
                } else {
                    __block_XZGsd1(47);
                    {
                        __statement_LQh0TW(147);
                        id = (__expression_jw0W6u(148), normalize(id, relId));
                    }
                }
                if (loaderCache[id]) {
                    __block_XZGsd1(48);
                    return __expression_jw0W6u(149), loaderCache[id];
                } else {
                    __block_XZGsd1(49);
                    {
                        __statement_LQh0TW(150);
                        __extro_ROA5g9(151, __intro_KQ8V8y(151, plugin).load(id, (__expression_jw0W6u(152), makeRequire(systemRequire, exports, module, relId)), (__expression_jw0W6u(153), makeLoad(id)), {}));
                    }
                    return __expression_jw0W6u(154), loaderCache[id];
                }
            }
        };
    }
    function define(id, deps, factory) {
        __block_XZGsd1(50);
        if (__extro_ROA5g9(155, __intro_KQ8V8y(155, Array).isArray(id))) {
            __block_XZGsd1(51);
            {
                __statement_LQh0TW(156);
                factory = deps;
            }
            {
                __statement_LQh0TW(157);
                deps = id;
            }
            {
                __statement_LQh0TW(158);
                id = undefined;
            }
        } else if (__expression_jw0W6u(159), (__expression_jw0W6u(160), typeof id) !== 'string') {
            __block_XZGsd1(52);
            {
                __statement_LQh0TW(161);
                factory = id;
            }
            {
                __statement_LQh0TW(162);
                id = deps = undefined;
            }
        }
        if (__expression_jw0W6u(163), (__expression_jw0W6u(164), deps) && (__expression_jw0W6u(165), !__extro_ROA5g9(166, __intro_KQ8V8y(166, Array).isArray(deps)))) {
            __block_XZGsd1(53);
            {
                __statement_LQh0TW(167);
                factory = deps;
            }
            {
                __statement_LQh0TW(168);
                deps = undefined;
            }
        }
        if (__expression_jw0W6u(169), !(__expression_jw0W6u(170), deps)) {
            __block_XZGsd1(54);
            {
                __statement_LQh0TW(171);
                deps = [
                    'require',
                    'exports',
                    'module'
                ];
            }
        }
        if (__expression_jw0W6u(172), id) {
            __block_XZGsd1(55);
            {
                __statement_LQh0TW(173);
                defineCache[id] = [
                    id,
                    deps,
                    factory
                ];
            }
        } else {
            __block_XZGsd1(56);
            {
                __statement_LQh0TW(174);
                __expression_jw0W6u(175), runFactory(id, deps, factory);
            }
        }
    }
    {
        __statement_LQh0TW(176);
        define.require = function (id) {
            __block_XZGsd1(57);
            if (loaderCache[id]) {
                __block_XZGsd1(58);
                return __expression_jw0W6u(177), loaderCache[id];
            }
            if (defineCache[id]) {
                __block_XZGsd1(59);
                {
                    __statement_LQh0TW(178);
                    __extro_ROA5g9(179, __intro_KQ8V8y(179, runFactory).apply(null, defineCache[id]));
                }
                return __expression_jw0W6u(180), loaderCache[id];
            }
        };
    }
    {
        __statement_LQh0TW(181);
        define.amd = {};
    }
    return __expression_jw0W6u(182), define;
}
{
    __statement_LQh0TW(183);
    module.exports = amdefine;
}