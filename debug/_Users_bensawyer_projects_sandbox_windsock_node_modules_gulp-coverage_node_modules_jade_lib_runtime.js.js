
// Instrumentation Header
{
    var fs = require('fs');
    var __statement_hLwcXg, __expression_a61q0S, __block_HdhW$i;
    var store = require('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/contrib/coverage_store.js');
    
    __statement_hLwcXg = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/lib/runtime.js');
        fs.writeSync(fd, '{"statement": {"node": ' + i + '}},\n');
    }; 
    
    __expression_a61q0S = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/lib/runtime.js');
        fs.writeSync(fd, '{"expression": {"node": ' + i + '}},\n');
    }; 
    
    __block_HdhW$i = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/lib/runtime.js');
        fs.writeSync(fd, '{"block": ' + i + '},\n');
    }; 
    __intro_CnHIxh = function(id, obj) {
        // console.log('__intro: ', id, ', obj.__instrumented_miss: ', obj.__instrumented_miss, ', obj.length: ', obj.length);
        (typeof obj === 'object' || typeof obj === 'function') &&
            Object.defineProperty && Object.defineProperty(obj, '__instrumented_miss', {enumerable: false, writable: true});
        obj.__instrumented_miss = obj.__instrumented_miss || [];
        if ('undefined' !== typeof obj && null !== obj && 'undefined' !== typeof obj.__instrumented_miss) {
            if (obj.length === 0) {
                // console.log('interim miss: ', id);
                obj.__instrumented_miss[id] = true;
            } else {
                obj.__instrumented_miss[id] = false;
            }
        }
        return obj;
    };
    function isProbablyChainable(obj, id) {
        return obj &&
            obj.__instrumented_miss[id] !== undefined &&
            'number' === typeof obj.length;
    }
    __extro_MKH4KZ = function(id, obj) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/lib/runtime.js');
        // console.log('__extro: ', id, ', obj.__instrumented_miss: ', obj.__instrumented_miss, ', obj.length: ', obj.length);
        if ('undefined' !== typeof obj && null !== obj && 'undefined' !== typeof obj.__instrumented_miss) {
            if (isProbablyChainable(obj, id) && obj.length === 0 && obj.__instrumented_miss[id]) {
                // if the call was not a "constructor" - i.e. it did not add things to the chainable
                // and it did not return anything from the chainable, it is a miss
                // console.log('miss: ', id);
            } else {
                fs.writeSync(fd, '{"chain": {"node": ' + id + '}},\n');
            }
            obj.__instrumented_miss[id] = undefined;
        } else {
            fs.writeSync(fd, '{"chain": {"node": ' + id + '}},\n');
        }
        return obj;
    };
};
////////////////////////

// Instrumented Code
{
    __statement_hLwcXg(0);
    'use strict';
}
{
    __statement_hLwcXg(1);
    exports.merge = function merge(a, b) {
        __block_HdhW$i(0);
        if (__expression_a61q0S(2), arguments.length === 1) {
            __block_HdhW$i(1);
            {
                __statement_hLwcXg(3);
                var attrs = a[0];
            }
            for (var i = 1; __expression_a61q0S(4), (__expression_a61q0S(5), i) < a.length; __expression_a61q0S(6), i++) {
                __block_HdhW$i(2);
                {
                    __statement_hLwcXg(7);
                    attrs = (__expression_a61q0S(8), merge(attrs, a[i]));
                }
            }
            return __expression_a61q0S(9), attrs;
        }
        {
            __statement_hLwcXg(10);
            var ac = a['class'];
        }
        {
            __statement_hLwcXg(11);
            var bc = b['class'];
        }
        if (__expression_a61q0S(12), (__expression_a61q0S(13), ac) || (__expression_a61q0S(14), bc)) {
            __block_HdhW$i(3);
            {
                __statement_hLwcXg(15);
                ac = (__expression_a61q0S(16), (__expression_a61q0S(17), ac) || []);
            }
            {
                __statement_hLwcXg(18);
                bc = (__expression_a61q0S(19), (__expression_a61q0S(20), bc) || []);
            }
            if (__expression_a61q0S(21), !__extro_MKH4KZ(22, __intro_CnHIxh(22, Array).isArray(ac))) {
                __block_HdhW$i(4);
                {
                    __statement_hLwcXg(23);
                    ac = [
                        ac
                    ];
                }
            }
            if (__expression_a61q0S(24), !__extro_MKH4KZ(25, __intro_CnHIxh(25, Array).isArray(bc))) {
                __block_HdhW$i(5);
                {
                    __statement_hLwcXg(26);
                    bc = [
                        bc
                    ];
                }
            }
            {
                __statement_hLwcXg(27);
                a['class'] = __extro_MKH4KZ(28, __intro_CnHIxh(28, __extro_MKH4KZ(29, __intro_CnHIxh(29, ac).concat(bc))).filter(nulls));
            }
        }
        for (var key in b) {
            __block_HdhW$i(6);
            if (__expression_a61q0S(30), (__expression_a61q0S(31), key) != 'class') {
                __block_HdhW$i(7);
                {
                    __statement_hLwcXg(32);
                    a[key] = b[key];
                }
            }
        }
        return __expression_a61q0S(33), a;
    };
}
function nulls(val) {
    __block_HdhW$i(8);
    return __expression_a61q0S(34), (__expression_a61q0S(35), (__expression_a61q0S(36), (__expression_a61q0S(37), val) != null) && (__expression_a61q0S(38), (__expression_a61q0S(39), val) !== ''));
}
{
    __statement_hLwcXg(40);
    exports.joinClasses = joinClasses;
}
function joinClasses(val) {
    __block_HdhW$i(9);
    return __expression_a61q0S(41), __extro_MKH4KZ(44, __intro_CnHIxh(44, Array).isArray(val)) ? (__expression_a61q0S(42), __extro_MKH4KZ(45, __intro_CnHIxh(45, __extro_MKH4KZ(46, __intro_CnHIxh(46, __extro_MKH4KZ(47, __intro_CnHIxh(47, val).map(joinClasses))).filter(nulls))).join(' '))) : (__expression_a61q0S(43), val);
}
{
    __statement_hLwcXg(48);
    exports.cls = function cls(classes, escaped) {
        __block_HdhW$i(10);
        {
            __statement_hLwcXg(49);
            var buf = [];
        }
        for (var i = 0; __expression_a61q0S(50), (__expression_a61q0S(51), i) < classes.length; __expression_a61q0S(52), i++) {
            __block_HdhW$i(11);
            if (__expression_a61q0S(53), (__expression_a61q0S(54), escaped) && escaped[i]) {
                __block_HdhW$i(12);
                {
                    __statement_hLwcXg(55);
                    __extro_MKH4KZ(56, __intro_CnHIxh(56, buf).push(__extro_MKH4KZ(57, __intro_CnHIxh(57, exports).escape((__expression_a61q0S(58), joinClasses([
                        classes[i]
                    ]))))));
                }
            } else {
                __block_HdhW$i(13);
                {
                    __statement_hLwcXg(59);
                    __extro_MKH4KZ(60, __intro_CnHIxh(60, buf).push((__expression_a61q0S(61), joinClasses(classes[i]))));
                }
            }
        }
        {
            __statement_hLwcXg(62);
            var text = (__expression_a61q0S(63), joinClasses(buf));
        }
        if (text.length) {
            __block_HdhW$i(14);
            return __expression_a61q0S(64), (__expression_a61q0S(65), (__expression_a61q0S(66), ' class="' + (__expression_a61q0S(67), text)) + '"');
        } else {
            __block_HdhW$i(15);
            return __expression_a61q0S(68), '';
        }
    };
}
{
    __statement_hLwcXg(69);
    exports.attr = function attr(key, val, escaped, terse) {
        __block_HdhW$i(16);
        if (__expression_a61q0S(70), (__expression_a61q0S(71), 'boolean' == (__expression_a61q0S(72), typeof val)) || (__expression_a61q0S(73), null == (__expression_a61q0S(74), val))) {
            __block_HdhW$i(17);
            if (__expression_a61q0S(75), val) {
                __block_HdhW$i(18);
                return __expression_a61q0S(76), (__expression_a61q0S(77), ' ' + ((__expression_a61q0S(80), terse) ? (__expression_a61q0S(78), key) : (__expression_a61q0S(79), (__expression_a61q0S(81), (__expression_a61q0S(82), (__expression_a61q0S(83), (__expression_a61q0S(84), key) + '="') + (__expression_a61q0S(85), key)) + '"'))));
            } else {
                __block_HdhW$i(19);
                return __expression_a61q0S(86), '';
            }
        } else if (__expression_a61q0S(87), (__expression_a61q0S(88), 0 == __extro_MKH4KZ(89, __intro_CnHIxh(89, key).indexOf('data'))) && (__expression_a61q0S(90), 'string' != (__expression_a61q0S(91), typeof val))) {
            __block_HdhW$i(20);
            return __expression_a61q0S(92), (__expression_a61q0S(93), (__expression_a61q0S(94), (__expression_a61q0S(95), (__expression_a61q0S(96), ' ' + (__expression_a61q0S(97), key)) + '=\'') + __extro_MKH4KZ(98, __intro_CnHIxh(98, __extro_MKH4KZ(99, __intro_CnHIxh(99, JSON).stringify(val))).replace(/'/g, '&apos;'))) + '\'');
        } else if (__expression_a61q0S(100), escaped) {
            __block_HdhW$i(21);
            return __expression_a61q0S(101), (__expression_a61q0S(102), (__expression_a61q0S(103), (__expression_a61q0S(104), (__expression_a61q0S(105), ' ' + (__expression_a61q0S(106), key)) + '="') + __extro_MKH4KZ(107, __intro_CnHIxh(107, exports).escape(val))) + '"');
        } else {
            __block_HdhW$i(22);
            return __expression_a61q0S(108), (__expression_a61q0S(109), (__expression_a61q0S(110), (__expression_a61q0S(111), (__expression_a61q0S(112), ' ' + (__expression_a61q0S(113), key)) + '="') + (__expression_a61q0S(114), val)) + '"');
        }
    };
}
{
    __statement_hLwcXg(115);
    exports.attrs = function attrs(obj, terse) {
        __block_HdhW$i(23);
        {
            __statement_hLwcXg(116);
            var buf = [];
        }
        {
            __statement_hLwcXg(117);
            var keys = __extro_MKH4KZ(118, __intro_CnHIxh(118, Object).keys(obj));
        }
        if (keys.length) {
            __block_HdhW$i(24);
            for (var i = 0; __expression_a61q0S(119), (__expression_a61q0S(120), i) < keys.length; __expression_a61q0S(121), ++i) {
                __block_HdhW$i(25);
                {
                    __statement_hLwcXg(122);
                    var key = keys[i], val = obj[key];
                }
                if (__expression_a61q0S(123), 'class' == (__expression_a61q0S(124), key)) {
                    __block_HdhW$i(26);
                    if (val = (__expression_a61q0S(125), joinClasses(val))) {
                        __block_HdhW$i(27);
                        {
                            __statement_hLwcXg(126);
                            __extro_MKH4KZ(127, __intro_CnHIxh(127, buf).push((__expression_a61q0S(128), (__expression_a61q0S(129), (__expression_a61q0S(130), (__expression_a61q0S(131), ' ' + (__expression_a61q0S(132), key)) + '="') + (__expression_a61q0S(133), val)) + '"')));
                        }
                    }
                } else {
                    __block_HdhW$i(28);
                    {
                        __statement_hLwcXg(134);
                        __extro_MKH4KZ(135, __intro_CnHIxh(135, buf).push(__extro_MKH4KZ(136, __intro_CnHIxh(136, exports).attr(key, val, false, terse))));
                    }
                }
            }
        }
        return __expression_a61q0S(137), __extro_MKH4KZ(138, __intro_CnHIxh(138, buf).join(''));
    };
}
{
    __statement_hLwcXg(139);
    exports.escape = function escape(html) {
        __block_HdhW$i(29);
        {
            __statement_hLwcXg(140);
            var result = __extro_MKH4KZ(141, __intro_CnHIxh(141, __extro_MKH4KZ(142, __intro_CnHIxh(142, __extro_MKH4KZ(143, __intro_CnHIxh(143, __extro_MKH4KZ(144, __intro_CnHIxh(144, (__expression_a61q0S(145), String(html))).replace(/&/g, '&amp;'))).replace(/</g, '&lt;'))).replace(/>/g, '&gt;'))).replace(/"/g, '&quot;'));
        }
        if (__expression_a61q0S(146), (__expression_a61q0S(147), result) === (__expression_a61q0S(148), '' + (__expression_a61q0S(149), html))) {
            __block_HdhW$i(30);
            return __expression_a61q0S(150), html;
        } else {
            __block_HdhW$i(31);
            return __expression_a61q0S(151), result;
        }
    };
}
{
    __statement_hLwcXg(152);
    exports.rethrow = function rethrow(err, filename, lineno, str) {
        __block_HdhW$i(32);
        if (__expression_a61q0S(153), !(__expression_a61q0S(154), (__expression_a61q0S(155), err) instanceof (__expression_a61q0S(156), Error))) {
            __block_HdhW$i(33);
            {
                __statement_hLwcXg(157);
                throw err;
            }
        }
        if (__expression_a61q0S(158), (__expression_a61q0S(159), (__expression_a61q0S(160), (__expression_a61q0S(161), typeof window) != 'undefined') || (__expression_a61q0S(162), !(__expression_a61q0S(163), filename))) && (__expression_a61q0S(164), !(__expression_a61q0S(165), str))) {
            __block_HdhW$i(34);
            {
                __statement_hLwcXg(166);
                err.message += (__expression_a61q0S(167), ' on line ' + (__expression_a61q0S(168), lineno));
            }
            {
                __statement_hLwcXg(169);
                throw err;
            }
        }
        try {
            __block_HdhW$i(35);
            {
                __statement_hLwcXg(170);
                str = (__expression_a61q0S(171), (__expression_a61q0S(172), str) || __extro_MKH4KZ(173, __intro_CnHIxh(173, (__expression_a61q0S(174), require('fs'))).readFileSync(filename, 'utf8')));
            }
        } catch (ex) {
            __block_HdhW$i(36);
            {
                __statement_hLwcXg(175);
                __expression_a61q0S(176), rethrow(err, null, lineno);
            }
        }
        {
            __statement_hLwcXg(177);
            var context = 3, lines = __extro_MKH4KZ(178, __intro_CnHIxh(178, str).split('\n')), start = __extro_MKH4KZ(179, __intro_CnHIxh(179, Math).max((__expression_a61q0S(180), (__expression_a61q0S(181), lineno) - (__expression_a61q0S(182), context)), 0)), end = __extro_MKH4KZ(183, __intro_CnHIxh(183, Math).min(lines.length, (__expression_a61q0S(184), (__expression_a61q0S(185), lineno) + (__expression_a61q0S(186), context))));
        }
        {
            __statement_hLwcXg(187);
            var context = __extro_MKH4KZ(188, __intro_CnHIxh(188, __extro_MKH4KZ(189, __intro_CnHIxh(189, __extro_MKH4KZ(190, __intro_CnHIxh(190, lines).slice(start, end))).map(function (line, i) {
                    __block_HdhW$i(37);
                    {
                        __statement_hLwcXg(191);
                        var curr = (__expression_a61q0S(192), (__expression_a61q0S(193), (__expression_a61q0S(194), i) + (__expression_a61q0S(195), start)) + 1);
                    }
                    return __expression_a61q0S(196), (__expression_a61q0S(197), (__expression_a61q0S(198), (__expression_a61q0S(199), ((__expression_a61q0S(202), (__expression_a61q0S(203), curr) == (__expression_a61q0S(204), lineno)) ? (__expression_a61q0S(200), '  > ') : (__expression_a61q0S(201), '    ')) + (__expression_a61q0S(205), curr)) + '| ') + (__expression_a61q0S(206), line));
                }))).join('\n'));
        }
        {
            __statement_hLwcXg(207);
            err.path = filename;
        }
        {
            __statement_hLwcXg(208);
            err.message = (__expression_a61q0S(209), (__expression_a61q0S(210), (__expression_a61q0S(211), (__expression_a61q0S(212), (__expression_a61q0S(213), (__expression_a61q0S(214), (__expression_a61q0S(215), (__expression_a61q0S(216), filename) || 'Jade') + ':') + (__expression_a61q0S(217), lineno)) + '\n') + (__expression_a61q0S(218), context)) + '\n\n') + err.message);
        }
        {
            __statement_hLwcXg(219);
            throw err;
        }
    };
}