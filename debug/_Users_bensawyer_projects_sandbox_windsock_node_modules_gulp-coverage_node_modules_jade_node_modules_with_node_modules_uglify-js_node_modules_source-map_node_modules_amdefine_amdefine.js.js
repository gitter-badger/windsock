
// Instrumentation Header
{
    var fs = require('fs');
    var __statement_OttaGU, __expression_tey1Rs, __block_toeAoT;
    var store = require('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/contrib/coverage_store.js');
    
    __statement_OttaGU = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/node_modules/with/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js');
        fs.writeSync(fd, '{"statement": {"node": ' + i + '}},\n');
    }; 
    
    __expression_tey1Rs = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/node_modules/with/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js');
        fs.writeSync(fd, '{"expression": {"node": ' + i + '}},\n');
    }; 
    
    __block_toeAoT = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/node_modules/with/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js');
        fs.writeSync(fd, '{"block": ' + i + '},\n');
    }; 
    __intro_YIJ$kv = function(id, obj) {
        // console.log('__intro: ', id, ', obj.__instrumented_miss: ', obj.__instrumented_miss, ', obj.length: ', obj.length);
        (typeof obj === 'object' || typeof obj === 'function') &&
            Object.defineProperty && Object.defineProperty(obj, '__instrumented_miss', {enumerable: false, writable: true});
        obj.__instrumented_miss = obj.__instrumented_miss || [];
        if ('undefined' !== typeof obj && null !== obj && 'undefined' !== typeof obj.__instrumented_miss) {
            if (obj.length === 0) {
                // console.log('interim miss: ', id);
                obj.__instrumented_miss[id] = true;
            } else {
                obj.__instrumented_miss[id] = false;
            }
        }
        return obj;
    };
    function isProbablyChainable(obj, id) {
        return obj &&
            obj.__instrumented_miss[id] !== undefined &&
            'number' === typeof obj.length;
    }
    __extro_XJz$Ld = function(id, obj) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/node_modules/with/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js');
        // console.log('__extro: ', id, ', obj.__instrumented_miss: ', obj.__instrumented_miss, ', obj.length: ', obj.length);
        if ('undefined' !== typeof obj && null !== obj && 'undefined' !== typeof obj.__instrumented_miss) {
            if (isProbablyChainable(obj, id) && obj.length === 0 && obj.__instrumented_miss[id]) {
                // if the call was not a "constructor" - i.e. it did not add things to the chainable
                // and it did not return anything from the chainable, it is a miss
                // console.log('miss: ', id);
            } else {
                fs.writeSync(fd, '{"chain": {"node": ' + id + '}},\n');
            }
            obj.__instrumented_miss[id] = undefined;
        } else {
            fs.writeSync(fd, '{"chain": {"node": ' + id + '}},\n');
        }
        return obj;
    };
};
////////////////////////

// Instrumented Code
{
    __statement_OttaGU(0);
    'use strict';
}
function amdefine(module, requireFn) {
    __block_toeAoT(0);
    {
        __statement_OttaGU(1);
        'use strict';
    }
    {
        __statement_OttaGU(2);
        var defineCache = {}, loaderCache = {}, alreadyCalled = false, path = (__expression_tey1Rs(3), require('path')), makeRequire, stringRequire;
    }
    function trimDots(ary) {
        __block_toeAoT(1);
        {
            __statement_OttaGU(4);
            var i, part;
        }
        for (i = 0; ary[i]; i += 1) {
            __block_toeAoT(2);
            {
                __statement_OttaGU(5);
                part = ary[i];
            }
            if (__expression_tey1Rs(6), (__expression_tey1Rs(7), part) === '.') {
                __block_toeAoT(3);
                {
                    __statement_OttaGU(8);
                    __extro_XJz$Ld(9, __intro_YIJ$kv(9, ary).splice(i, 1));
                }
                {
                    __statement_OttaGU(10);
                    i -= 1;
                }
            } else if (__expression_tey1Rs(11), (__expression_tey1Rs(12), part) === '..') {
                __block_toeAoT(4);
                if (__expression_tey1Rs(13), (__expression_tey1Rs(14), (__expression_tey1Rs(15), i) === 1) && (__expression_tey1Rs(16), (__expression_tey1Rs(17), ary[2] === '..') || (__expression_tey1Rs(18), ary[0] === '..'))) {
                    __block_toeAoT(5);
                    break;
                } else if (__expression_tey1Rs(19), (__expression_tey1Rs(20), i) > 0) {
                    __block_toeAoT(6);
                    {
                        __statement_OttaGU(21);
                        __extro_XJz$Ld(22, __intro_YIJ$kv(22, ary).splice((__expression_tey1Rs(23), (__expression_tey1Rs(24), i) - 1), 2));
                    }
                    {
                        __statement_OttaGU(25);
                        i -= 2;
                    }
                }
            }
        }
    }
    function normalize(name, baseName) {
        __block_toeAoT(7);
        {
            __statement_OttaGU(26);
            var baseParts;
        }
        if (__expression_tey1Rs(27), (__expression_tey1Rs(28), name) && (__expression_tey1Rs(29), __extro_XJz$Ld(30, __intro_YIJ$kv(30, name).charAt(0)) === '.')) {
            __block_toeAoT(8);
            if (__expression_tey1Rs(31), baseName) {
                __block_toeAoT(9);
                {
                    __statement_OttaGU(32);
                    baseParts = __extro_XJz$Ld(33, __intro_YIJ$kv(33, baseName).split('/'));
                }
                {
                    __statement_OttaGU(34);
                    baseParts = __extro_XJz$Ld(35, __intro_YIJ$kv(35, baseParts).slice(0, (__expression_tey1Rs(36), baseParts.length - 1)));
                }
                {
                    __statement_OttaGU(37);
                    baseParts = __extro_XJz$Ld(38, __intro_YIJ$kv(38, baseParts).concat(__extro_XJz$Ld(39, __intro_YIJ$kv(39, name).split('/'))));
                }
                {
                    __statement_OttaGU(40);
                    __expression_tey1Rs(41), trimDots(baseParts);
                }
                {
                    __statement_OttaGU(42);
                    name = __extro_XJz$Ld(43, __intro_YIJ$kv(43, baseParts).join('/'));
                }
            }
        }
        return __expression_tey1Rs(44), name;
    }
    function makeNormalize(relName) {
        __block_toeAoT(10);
        return __expression_tey1Rs(45), function (name) {
            __block_toeAoT(11);
            return __expression_tey1Rs(46), (__expression_tey1Rs(47), normalize(name, relName));
        };
    }
    function makeLoad(id) {
        __block_toeAoT(12);
        function load(value) {
            __block_toeAoT(13);
            {
                __statement_OttaGU(48);
                loaderCache[id] = value;
            }
        }
        {
            __statement_OttaGU(49);
            load.fromText = function (id, text) {
                __block_toeAoT(14);
                {
                    __statement_OttaGU(50);
                    throw new Error('amdefine does not implement load.fromText');
                }
            };
        }
        return __expression_tey1Rs(51), load;
    }
    {
        __statement_OttaGU(52);
        makeRequire = function (systemRequire, exports, module, relId) {
            __block_toeAoT(15);
            function amdRequire(deps, callback) {
                __block_toeAoT(16);
                if (__expression_tey1Rs(53), (__expression_tey1Rs(54), typeof deps) === 'string') {
                    __block_toeAoT(17);
                    return __expression_tey1Rs(55), (__expression_tey1Rs(56), stringRequire(systemRequire, exports, module, deps, relId));
                } else {
                    __block_toeAoT(18);
                    {
                        __statement_OttaGU(57);
                        deps = __extro_XJz$Ld(58, __intro_YIJ$kv(58, deps).map(function (depName) {
                            __block_toeAoT(19);
                            return __expression_tey1Rs(59), (__expression_tey1Rs(60), stringRequire(systemRequire, exports, module, depName, relId));
                        }));
                    }
                    {
                        __statement_OttaGU(61);
                        __extro_XJz$Ld(62, __intro_YIJ$kv(62, process).nextTick(function () {
                            __block_toeAoT(20);
                            {
                                __statement_OttaGU(63);
                                __extro_XJz$Ld(64, __intro_YIJ$kv(64, callback).apply(null, deps));
                            }
                        }));
                    }
                }
            }
            {
                __statement_OttaGU(65);
                amdRequire.toUrl = function (filePath) {
                    __block_toeAoT(21);
                    if (__expression_tey1Rs(66), __extro_XJz$Ld(67, __intro_YIJ$kv(67, filePath).indexOf('.')) === 0) {
                        __block_toeAoT(22);
                        return __expression_tey1Rs(68), (__expression_tey1Rs(69), normalize(filePath, __extro_XJz$Ld(70, __intro_YIJ$kv(70, path).dirname(module.filename))));
                    } else {
                        __block_toeAoT(23);
                        return __expression_tey1Rs(71), filePath;
                    }
                };
            }
            return __expression_tey1Rs(72), amdRequire;
        };
    }
    {
        __statement_OttaGU(73);
        requireFn = (__expression_tey1Rs(74), (__expression_tey1Rs(75), requireFn) || function req() {
            __block_toeAoT(24);
            return __expression_tey1Rs(76), __extro_XJz$Ld(77, __intro_YIJ$kv(77, module.require).apply(module, arguments));
        });
    }
    function runFactory(id, deps, factory) {
        __block_toeAoT(25);
        {
            __statement_OttaGU(78);
            var r, e, m, result;
        }
        if (__expression_tey1Rs(79), id) {
            __block_toeAoT(26);
            {
                __statement_OttaGU(80);
                e = loaderCache[id] = {};
            }
            {
                __statement_OttaGU(81);
                m = {
                    id: id,
                    uri: __filename,
                    exports: e
                };
            }
            {
                __statement_OttaGU(82);
                r = (__expression_tey1Rs(83), makeRequire(requireFn, e, m, id));
            }
        } else {
            __block_toeAoT(27);
            if (__expression_tey1Rs(84), alreadyCalled) {
                __block_toeAoT(28);
                {
                    __statement_OttaGU(85);
                    throw new Error('amdefine with no module ID cannot be called more than once per file.');
                }
            }
            {
                __statement_OttaGU(86);
                alreadyCalled = true;
            }
            {
                __statement_OttaGU(87);
                e = module.exports;
            }
            {
                __statement_OttaGU(88);
                m = module;
            }
            {
                __statement_OttaGU(89);
                r = (__expression_tey1Rs(90), makeRequire(requireFn, e, m, module.id));
            }
        }
        if (__expression_tey1Rs(91), deps) {
            __block_toeAoT(29);
            {
                __statement_OttaGU(92);
                deps = __extro_XJz$Ld(93, __intro_YIJ$kv(93, deps).map(function (depName) {
                    __block_toeAoT(30);
                    return __expression_tey1Rs(94), (__expression_tey1Rs(95), r(depName));
                }));
            }
        }
        if (__expression_tey1Rs(96), (__expression_tey1Rs(97), typeof factory) === 'function') {
            __block_toeAoT(31);
            {
                __statement_OttaGU(98);
                result = __extro_XJz$Ld(99, __intro_YIJ$kv(99, factory).apply(m.exports, deps));
            }
        } else {
            __block_toeAoT(32);
            {
                __statement_OttaGU(100);
                result = factory;
            }
        }
        if (__expression_tey1Rs(101), (__expression_tey1Rs(102), result) !== (__expression_tey1Rs(103), undefined)) {
            __block_toeAoT(33);
            {
                __statement_OttaGU(104);
                m.exports = result;
            }
            if (__expression_tey1Rs(105), id) {
                __block_toeAoT(34);
                {
                    __statement_OttaGU(106);
                    loaderCache[id] = m.exports;
                }
            }
        }
    }
    {
        __statement_OttaGU(107);
        stringRequire = function (systemRequire, exports, module, id, relId) {
            __block_toeAoT(35);
            {
                __statement_OttaGU(108);
                var index = __extro_XJz$Ld(109, __intro_YIJ$kv(109, id).indexOf('!')), originalId = id, prefix, plugin;
            }
            if (__expression_tey1Rs(110), (__expression_tey1Rs(111), index) === (__expression_tey1Rs(112), -1)) {
                __block_toeAoT(36);
                {
                    __statement_OttaGU(113);
                    id = (__expression_tey1Rs(114), normalize(id, relId));
                }
                if (__expression_tey1Rs(115), (__expression_tey1Rs(116), id) === 'require') {
                    __block_toeAoT(37);
                    return __expression_tey1Rs(117), (__expression_tey1Rs(118), makeRequire(systemRequire, exports, module, relId));
                } else if (__expression_tey1Rs(119), (__expression_tey1Rs(120), id) === 'exports') {
                    __block_toeAoT(38);
                    return __expression_tey1Rs(121), exports;
                } else if (__expression_tey1Rs(122), (__expression_tey1Rs(123), id) === 'module') {
                    __block_toeAoT(39);
                    return __expression_tey1Rs(124), module;
                } else if (__extro_XJz$Ld(125, __intro_YIJ$kv(125, loaderCache).hasOwnProperty(id))) {
                    __block_toeAoT(40);
                    return __expression_tey1Rs(126), loaderCache[id];
                } else if (defineCache[id]) {
                    __block_toeAoT(41);
                    {
                        __statement_OttaGU(127);
                        __extro_XJz$Ld(128, __intro_YIJ$kv(128, runFactory).apply(null, defineCache[id]));
                    }
                    return __expression_tey1Rs(129), loaderCache[id];
                } else {
                    __block_toeAoT(42);
                    if (__expression_tey1Rs(130), systemRequire) {
                        __block_toeAoT(43);
                        return __expression_tey1Rs(131), (__expression_tey1Rs(132), systemRequire(originalId));
                    } else {
                        __block_toeAoT(44);
                        {
                            __statement_OttaGU(133);
                            throw new Error((__expression_tey1Rs(134), 'No module with ID: ' + (__expression_tey1Rs(135), id)));
                        }
                    }
                }
            } else {
                __block_toeAoT(45);
                {
                    __statement_OttaGU(136);
                    prefix = __extro_XJz$Ld(137, __intro_YIJ$kv(137, id).substring(0, index));
                }
                {
                    __statement_OttaGU(138);
                    id = __extro_XJz$Ld(139, __intro_YIJ$kv(139, id).substring((__expression_tey1Rs(140), (__expression_tey1Rs(141), index) + 1), id.length));
                }
                {
                    __statement_OttaGU(142);
                    plugin = (__expression_tey1Rs(143), stringRequire(systemRequire, exports, module, prefix, relId));
                }
                if (plugin.normalize) {
                    __block_toeAoT(46);
                    {
                        __statement_OttaGU(144);
                        id = __extro_XJz$Ld(145, __intro_YIJ$kv(145, plugin).normalize(id, (__expression_tey1Rs(146), makeNormalize(relId))));
                    }
                } else {
                    __block_toeAoT(47);
                    {
                        __statement_OttaGU(147);
                        id = (__expression_tey1Rs(148), normalize(id, relId));
                    }
                }
                if (loaderCache[id]) {
                    __block_toeAoT(48);
                    return __expression_tey1Rs(149), loaderCache[id];
                } else {
                    __block_toeAoT(49);
                    {
                        __statement_OttaGU(150);
                        __extro_XJz$Ld(151, __intro_YIJ$kv(151, plugin).load(id, (__expression_tey1Rs(152), makeRequire(systemRequire, exports, module, relId)), (__expression_tey1Rs(153), makeLoad(id)), {}));
                    }
                    return __expression_tey1Rs(154), loaderCache[id];
                }
            }
        };
    }
    function define(id, deps, factory) {
        __block_toeAoT(50);
        if (__extro_XJz$Ld(155, __intro_YIJ$kv(155, Array).isArray(id))) {
            __block_toeAoT(51);
            {
                __statement_OttaGU(156);
                factory = deps;
            }
            {
                __statement_OttaGU(157);
                deps = id;
            }
            {
                __statement_OttaGU(158);
                id = undefined;
            }
        } else if (__expression_tey1Rs(159), (__expression_tey1Rs(160), typeof id) !== 'string') {
            __block_toeAoT(52);
            {
                __statement_OttaGU(161);
                factory = id;
            }
            {
                __statement_OttaGU(162);
                id = deps = undefined;
            }
        }
        if (__expression_tey1Rs(163), (__expression_tey1Rs(164), deps) && (__expression_tey1Rs(165), !__extro_XJz$Ld(166, __intro_YIJ$kv(166, Array).isArray(deps)))) {
            __block_toeAoT(53);
            {
                __statement_OttaGU(167);
                factory = deps;
            }
            {
                __statement_OttaGU(168);
                deps = undefined;
            }
        }
        if (__expression_tey1Rs(169), !(__expression_tey1Rs(170), deps)) {
            __block_toeAoT(54);
            {
                __statement_OttaGU(171);
                deps = [
                    'require',
                    'exports',
                    'module'
                ];
            }
        }
        if (__expression_tey1Rs(172), id) {
            __block_toeAoT(55);
            {
                __statement_OttaGU(173);
                defineCache[id] = [
                    id,
                    deps,
                    factory
                ];
            }
        } else {
            __block_toeAoT(56);
            {
                __statement_OttaGU(174);
                __expression_tey1Rs(175), runFactory(id, deps, factory);
            }
        }
    }
    {
        __statement_OttaGU(176);
        define.require = function (id) {
            __block_toeAoT(57);
            if (loaderCache[id]) {
                __block_toeAoT(58);
                return __expression_tey1Rs(177), loaderCache[id];
            }
            if (defineCache[id]) {
                __block_toeAoT(59);
                {
                    __statement_OttaGU(178);
                    __extro_XJz$Ld(179, __intro_YIJ$kv(179, runFactory).apply(null, defineCache[id]));
                }
                return __expression_tey1Rs(180), loaderCache[id];
            }
        };
    }
    {
        __statement_OttaGU(181);
        define.amd = {};
    }
    return __expression_tey1Rs(182), define;
}
{
    __statement_OttaGU(183);
    module.exports = amdefine;
}