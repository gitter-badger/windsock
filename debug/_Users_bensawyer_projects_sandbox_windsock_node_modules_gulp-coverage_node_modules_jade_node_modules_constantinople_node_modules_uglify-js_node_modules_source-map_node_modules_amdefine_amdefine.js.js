
// Instrumentation Header
{
    var fs = require('fs');
    var __statement_XDA$6g, __expression_Hm2zBz, __block_QLRXcS;
    var store = require('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/contrib/coverage_store.js');
    
    __statement_XDA$6g = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/node_modules/constantinople/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js');
        fs.writeSync(fd, '{"statement": {"node": ' + i + '}},\n');
    }; 
    
    __expression_Hm2zBz = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/node_modules/constantinople/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js');
        fs.writeSync(fd, '{"expression": {"node": ' + i + '}},\n');
    }; 
    
    __block_QLRXcS = function(i) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/node_modules/constantinople/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js');
        fs.writeSync(fd, '{"block": ' + i + '},\n');
    }; 
    __intro_FOwbzy = function(id, obj) {
        // console.log('__intro: ', id, ', obj.__instrumented_miss: ', obj.__instrumented_miss, ', obj.length: ', obj.length);
        (typeof obj === 'object' || typeof obj === 'function') &&
            Object.defineProperty && Object.defineProperty(obj, '__instrumented_miss', {enumerable: false, writable: true});
        obj.__instrumented_miss = obj.__instrumented_miss || [];
        if ('undefined' !== typeof obj && null !== obj && 'undefined' !== typeof obj.__instrumented_miss) {
            if (obj.length === 0) {
                // console.log('interim miss: ', id);
                obj.__instrumented_miss[id] = true;
            } else {
                obj.__instrumented_miss[id] = false;
            }
        }
        return obj;
    };
    function isProbablyChainable(obj, id) {
        return obj &&
            obj.__instrumented_miss[id] !== undefined &&
            'number' === typeof obj.length;
    }
    __extro_a9QC2I = function(id, obj) {
        var fd = store.register('/Users/bensawyer/projects/sandbox/windsock/node_modules/gulp-coverage/node_modules/jade/node_modules/constantinople/node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js');
        // console.log('__extro: ', id, ', obj.__instrumented_miss: ', obj.__instrumented_miss, ', obj.length: ', obj.length);
        if ('undefined' !== typeof obj && null !== obj && 'undefined' !== typeof obj.__instrumented_miss) {
            if (isProbablyChainable(obj, id) && obj.length === 0 && obj.__instrumented_miss[id]) {
                // if the call was not a "constructor" - i.e. it did not add things to the chainable
                // and it did not return anything from the chainable, it is a miss
                // console.log('miss: ', id);
            } else {
                fs.writeSync(fd, '{"chain": {"node": ' + id + '}},\n');
            }
            obj.__instrumented_miss[id] = undefined;
        } else {
            fs.writeSync(fd, '{"chain": {"node": ' + id + '}},\n');
        }
        return obj;
    };
};
////////////////////////

// Instrumented Code
{
    __statement_XDA$6g(0);
    'use strict';
}
function amdefine(module, requireFn) {
    __block_QLRXcS(0);
    {
        __statement_XDA$6g(1);
        'use strict';
    }
    {
        __statement_XDA$6g(2);
        var defineCache = {}, loaderCache = {}, alreadyCalled = false, path = (__expression_Hm2zBz(3), require('path')), makeRequire, stringRequire;
    }
    function trimDots(ary) {
        __block_QLRXcS(1);
        {
            __statement_XDA$6g(4);
            var i, part;
        }
        for (i = 0; ary[i]; i += 1) {
            __block_QLRXcS(2);
            {
                __statement_XDA$6g(5);
                part = ary[i];
            }
            if (__expression_Hm2zBz(6), (__expression_Hm2zBz(7), part) === '.') {
                __block_QLRXcS(3);
                {
                    __statement_XDA$6g(8);
                    __extro_a9QC2I(9, __intro_FOwbzy(9, ary).splice(i, 1));
                }
                {
                    __statement_XDA$6g(10);
                    i -= 1;
                }
            } else if (__expression_Hm2zBz(11), (__expression_Hm2zBz(12), part) === '..') {
                __block_QLRXcS(4);
                if (__expression_Hm2zBz(13), (__expression_Hm2zBz(14), (__expression_Hm2zBz(15), i) === 1) && (__expression_Hm2zBz(16), (__expression_Hm2zBz(17), ary[2] === '..') || (__expression_Hm2zBz(18), ary[0] === '..'))) {
                    __block_QLRXcS(5);
                    break;
                } else if (__expression_Hm2zBz(19), (__expression_Hm2zBz(20), i) > 0) {
                    __block_QLRXcS(6);
                    {
                        __statement_XDA$6g(21);
                        __extro_a9QC2I(22, __intro_FOwbzy(22, ary).splice((__expression_Hm2zBz(23), (__expression_Hm2zBz(24), i) - 1), 2));
                    }
                    {
                        __statement_XDA$6g(25);
                        i -= 2;
                    }
                }
            }
        }
    }
    function normalize(name, baseName) {
        __block_QLRXcS(7);
        {
            __statement_XDA$6g(26);
            var baseParts;
        }
        if (__expression_Hm2zBz(27), (__expression_Hm2zBz(28), name) && (__expression_Hm2zBz(29), __extro_a9QC2I(30, __intro_FOwbzy(30, name).charAt(0)) === '.')) {
            __block_QLRXcS(8);
            if (__expression_Hm2zBz(31), baseName) {
                __block_QLRXcS(9);
                {
                    __statement_XDA$6g(32);
                    baseParts = __extro_a9QC2I(33, __intro_FOwbzy(33, baseName).split('/'));
                }
                {
                    __statement_XDA$6g(34);
                    baseParts = __extro_a9QC2I(35, __intro_FOwbzy(35, baseParts).slice(0, (__expression_Hm2zBz(36), baseParts.length - 1)));
                }
                {
                    __statement_XDA$6g(37);
                    baseParts = __extro_a9QC2I(38, __intro_FOwbzy(38, baseParts).concat(__extro_a9QC2I(39, __intro_FOwbzy(39, name).split('/'))));
                }
                {
                    __statement_XDA$6g(40);
                    __expression_Hm2zBz(41), trimDots(baseParts);
                }
                {
                    __statement_XDA$6g(42);
                    name = __extro_a9QC2I(43, __intro_FOwbzy(43, baseParts).join('/'));
                }
            }
        }
        return __expression_Hm2zBz(44), name;
    }
    function makeNormalize(relName) {
        __block_QLRXcS(10);
        return __expression_Hm2zBz(45), function (name) {
            __block_QLRXcS(11);
            return __expression_Hm2zBz(46), (__expression_Hm2zBz(47), normalize(name, relName));
        };
    }
    function makeLoad(id) {
        __block_QLRXcS(12);
        function load(value) {
            __block_QLRXcS(13);
            {
                __statement_XDA$6g(48);
                loaderCache[id] = value;
            }
        }
        {
            __statement_XDA$6g(49);
            load.fromText = function (id, text) {
                __block_QLRXcS(14);
                {
                    __statement_XDA$6g(50);
                    throw new Error('amdefine does not implement load.fromText');
                }
            };
        }
        return __expression_Hm2zBz(51), load;
    }
    {
        __statement_XDA$6g(52);
        makeRequire = function (systemRequire, exports, module, relId) {
            __block_QLRXcS(15);
            function amdRequire(deps, callback) {
                __block_QLRXcS(16);
                if (__expression_Hm2zBz(53), (__expression_Hm2zBz(54), typeof deps) === 'string') {
                    __block_QLRXcS(17);
                    return __expression_Hm2zBz(55), (__expression_Hm2zBz(56), stringRequire(systemRequire, exports, module, deps, relId));
                } else {
                    __block_QLRXcS(18);
                    {
                        __statement_XDA$6g(57);
                        deps = __extro_a9QC2I(58, __intro_FOwbzy(58, deps).map(function (depName) {
                            __block_QLRXcS(19);
                            return __expression_Hm2zBz(59), (__expression_Hm2zBz(60), stringRequire(systemRequire, exports, module, depName, relId));
                        }));
                    }
                    {
                        __statement_XDA$6g(61);
                        __extro_a9QC2I(62, __intro_FOwbzy(62, process).nextTick(function () {
                            __block_QLRXcS(20);
                            {
                                __statement_XDA$6g(63);
                                __extro_a9QC2I(64, __intro_FOwbzy(64, callback).apply(null, deps));
                            }
                        }));
                    }
                }
            }
            {
                __statement_XDA$6g(65);
                amdRequire.toUrl = function (filePath) {
                    __block_QLRXcS(21);
                    if (__expression_Hm2zBz(66), __extro_a9QC2I(67, __intro_FOwbzy(67, filePath).indexOf('.')) === 0) {
                        __block_QLRXcS(22);
                        return __expression_Hm2zBz(68), (__expression_Hm2zBz(69), normalize(filePath, __extro_a9QC2I(70, __intro_FOwbzy(70, path).dirname(module.filename))));
                    } else {
                        __block_QLRXcS(23);
                        return __expression_Hm2zBz(71), filePath;
                    }
                };
            }
            return __expression_Hm2zBz(72), amdRequire;
        };
    }
    {
        __statement_XDA$6g(73);
        requireFn = (__expression_Hm2zBz(74), (__expression_Hm2zBz(75), requireFn) || function req() {
            __block_QLRXcS(24);
            return __expression_Hm2zBz(76), __extro_a9QC2I(77, __intro_FOwbzy(77, module.require).apply(module, arguments));
        });
    }
    function runFactory(id, deps, factory) {
        __block_QLRXcS(25);
        {
            __statement_XDA$6g(78);
            var r, e, m, result;
        }
        if (__expression_Hm2zBz(79), id) {
            __block_QLRXcS(26);
            {
                __statement_XDA$6g(80);
                e = loaderCache[id] = {};
            }
            {
                __statement_XDA$6g(81);
                m = {
                    id: id,
                    uri: __filename,
                    exports: e
                };
            }
            {
                __statement_XDA$6g(82);
                r = (__expression_Hm2zBz(83), makeRequire(requireFn, e, m, id));
            }
        } else {
            __block_QLRXcS(27);
            if (__expression_Hm2zBz(84), alreadyCalled) {
                __block_QLRXcS(28);
                {
                    __statement_XDA$6g(85);
                    throw new Error('amdefine with no module ID cannot be called more than once per file.');
                }
            }
            {
                __statement_XDA$6g(86);
                alreadyCalled = true;
            }
            {
                __statement_XDA$6g(87);
                e = module.exports;
            }
            {
                __statement_XDA$6g(88);
                m = module;
            }
            {
                __statement_XDA$6g(89);
                r = (__expression_Hm2zBz(90), makeRequire(requireFn, e, m, module.id));
            }
        }
        if (__expression_Hm2zBz(91), deps) {
            __block_QLRXcS(29);
            {
                __statement_XDA$6g(92);
                deps = __extro_a9QC2I(93, __intro_FOwbzy(93, deps).map(function (depName) {
                    __block_QLRXcS(30);
                    return __expression_Hm2zBz(94), (__expression_Hm2zBz(95), r(depName));
                }));
            }
        }
        if (__expression_Hm2zBz(96), (__expression_Hm2zBz(97), typeof factory) === 'function') {
            __block_QLRXcS(31);
            {
                __statement_XDA$6g(98);
                result = __extro_a9QC2I(99, __intro_FOwbzy(99, factory).apply(m.exports, deps));
            }
        } else {
            __block_QLRXcS(32);
            {
                __statement_XDA$6g(100);
                result = factory;
            }
        }
        if (__expression_Hm2zBz(101), (__expression_Hm2zBz(102), result) !== (__expression_Hm2zBz(103), undefined)) {
            __block_QLRXcS(33);
            {
                __statement_XDA$6g(104);
                m.exports = result;
            }
            if (__expression_Hm2zBz(105), id) {
                __block_QLRXcS(34);
                {
                    __statement_XDA$6g(106);
                    loaderCache[id] = m.exports;
                }
            }
        }
    }
    {
        __statement_XDA$6g(107);
        stringRequire = function (systemRequire, exports, module, id, relId) {
            __block_QLRXcS(35);
            {
                __statement_XDA$6g(108);
                var index = __extro_a9QC2I(109, __intro_FOwbzy(109, id).indexOf('!')), originalId = id, prefix, plugin;
            }
            if (__expression_Hm2zBz(110), (__expression_Hm2zBz(111), index) === (__expression_Hm2zBz(112), -1)) {
                __block_QLRXcS(36);
                {
                    __statement_XDA$6g(113);
                    id = (__expression_Hm2zBz(114), normalize(id, relId));
                }
                if (__expression_Hm2zBz(115), (__expression_Hm2zBz(116), id) === 'require') {
                    __block_QLRXcS(37);
                    return __expression_Hm2zBz(117), (__expression_Hm2zBz(118), makeRequire(systemRequire, exports, module, relId));
                } else if (__expression_Hm2zBz(119), (__expression_Hm2zBz(120), id) === 'exports') {
                    __block_QLRXcS(38);
                    return __expression_Hm2zBz(121), exports;
                } else if (__expression_Hm2zBz(122), (__expression_Hm2zBz(123), id) === 'module') {
                    __block_QLRXcS(39);
                    return __expression_Hm2zBz(124), module;
                } else if (__extro_a9QC2I(125, __intro_FOwbzy(125, loaderCache).hasOwnProperty(id))) {
                    __block_QLRXcS(40);
                    return __expression_Hm2zBz(126), loaderCache[id];
                } else if (defineCache[id]) {
                    __block_QLRXcS(41);
                    {
                        __statement_XDA$6g(127);
                        __extro_a9QC2I(128, __intro_FOwbzy(128, runFactory).apply(null, defineCache[id]));
                    }
                    return __expression_Hm2zBz(129), loaderCache[id];
                } else {
                    __block_QLRXcS(42);
                    if (__expression_Hm2zBz(130), systemRequire) {
                        __block_QLRXcS(43);
                        return __expression_Hm2zBz(131), (__expression_Hm2zBz(132), systemRequire(originalId));
                    } else {
                        __block_QLRXcS(44);
                        {
                            __statement_XDA$6g(133);
                            throw new Error((__expression_Hm2zBz(134), 'No module with ID: ' + (__expression_Hm2zBz(135), id)));
                        }
                    }
                }
            } else {
                __block_QLRXcS(45);
                {
                    __statement_XDA$6g(136);
                    prefix = __extro_a9QC2I(137, __intro_FOwbzy(137, id).substring(0, index));
                }
                {
                    __statement_XDA$6g(138);
                    id = __extro_a9QC2I(139, __intro_FOwbzy(139, id).substring((__expression_Hm2zBz(140), (__expression_Hm2zBz(141), index) + 1), id.length));
                }
                {
                    __statement_XDA$6g(142);
                    plugin = (__expression_Hm2zBz(143), stringRequire(systemRequire, exports, module, prefix, relId));
                }
                if (plugin.normalize) {
                    __block_QLRXcS(46);
                    {
                        __statement_XDA$6g(144);
                        id = __extro_a9QC2I(145, __intro_FOwbzy(145, plugin).normalize(id, (__expression_Hm2zBz(146), makeNormalize(relId))));
                    }
                } else {
                    __block_QLRXcS(47);
                    {
                        __statement_XDA$6g(147);
                        id = (__expression_Hm2zBz(148), normalize(id, relId));
                    }
                }
                if (loaderCache[id]) {
                    __block_QLRXcS(48);
                    return __expression_Hm2zBz(149), loaderCache[id];
                } else {
                    __block_QLRXcS(49);
                    {
                        __statement_XDA$6g(150);
                        __extro_a9QC2I(151, __intro_FOwbzy(151, plugin).load(id, (__expression_Hm2zBz(152), makeRequire(systemRequire, exports, module, relId)), (__expression_Hm2zBz(153), makeLoad(id)), {}));
                    }
                    return __expression_Hm2zBz(154), loaderCache[id];
                }
            }
        };
    }
    function define(id, deps, factory) {
        __block_QLRXcS(50);
        if (__extro_a9QC2I(155, __intro_FOwbzy(155, Array).isArray(id))) {
            __block_QLRXcS(51);
            {
                __statement_XDA$6g(156);
                factory = deps;
            }
            {
                __statement_XDA$6g(157);
                deps = id;
            }
            {
                __statement_XDA$6g(158);
                id = undefined;
            }
        } else if (__expression_Hm2zBz(159), (__expression_Hm2zBz(160), typeof id) !== 'string') {
            __block_QLRXcS(52);
            {
                __statement_XDA$6g(161);
                factory = id;
            }
            {
                __statement_XDA$6g(162);
                id = deps = undefined;
            }
        }
        if (__expression_Hm2zBz(163), (__expression_Hm2zBz(164), deps) && (__expression_Hm2zBz(165), !__extro_a9QC2I(166, __intro_FOwbzy(166, Array).isArray(deps)))) {
            __block_QLRXcS(53);
            {
                __statement_XDA$6g(167);
                factory = deps;
            }
            {
                __statement_XDA$6g(168);
                deps = undefined;
            }
        }
        if (__expression_Hm2zBz(169), !(__expression_Hm2zBz(170), deps)) {
            __block_QLRXcS(54);
            {
                __statement_XDA$6g(171);
                deps = [
                    'require',
                    'exports',
                    'module'
                ];
            }
        }
        if (__expression_Hm2zBz(172), id) {
            __block_QLRXcS(55);
            {
                __statement_XDA$6g(173);
                defineCache[id] = [
                    id,
                    deps,
                    factory
                ];
            }
        } else {
            __block_QLRXcS(56);
            {
                __statement_XDA$6g(174);
                __expression_Hm2zBz(175), runFactory(id, deps, factory);
            }
        }
    }
    {
        __statement_XDA$6g(176);
        define.require = function (id) {
            __block_QLRXcS(57);
            if (loaderCache[id]) {
                __block_QLRXcS(58);
                return __expression_Hm2zBz(177), loaderCache[id];
            }
            if (defineCache[id]) {
                __block_QLRXcS(59);
                {
                    __statement_XDA$6g(178);
                    __extro_a9QC2I(179, __intro_FOwbzy(179, runFactory).apply(null, defineCache[id]));
                }
                return __expression_Hm2zBz(180), loaderCache[id];
            }
        };
    }
    {
        __statement_XDA$6g(181);
        define.amd = {};
    }
    return __expression_Hm2zBz(182), define;
}
{
    __statement_XDA$6g(183);
    module.exports = amdefine;
}